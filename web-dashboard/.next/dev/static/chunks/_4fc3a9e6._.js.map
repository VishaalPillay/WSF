{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nkk77/Desktop/SENTRA/WSF/web-dashboard/src/components/DashboardLayout.tsx"],"sourcesContent":["import React from \"react\";\r\n\r\ninterface DashboardLayoutProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport const DashboardLayout: React.FC<DashboardLayoutProps> = ({ children }) => {\r\n  return (\r\n    <div className=\"relative min-h-screen w-full bg-[#09090b] text-white overflow-hidden font-sans selection:bg-[#22d3ee]/30\">\r\n      {/* \r\n        DashboardLayout now acts as the root provider of the immersive dark theme.\r\n        The Sidebar and other floating elements will be injected by the page/Dashboard component.\r\n      */}\r\n      {children}\r\n    </div>\r\n  );\r\n};"],"names":[],"mappings":";;;;;;AAMO,MAAM,kBAAkD,CAAC,EAAE,QAAQ,EAAE;IAC1E,qBACE,6LAAC;QAAI,WAAU;kBAKZ;;;;;;AAGP;KAVa"}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nkk77/Desktop/SENTRA/WSF/web-dashboard/src/components/Sidebar.tsx"],"sourcesContent":["import React from \"react\";\r\nimport {\r\n  Map,\r\n  Settings,\r\n} from \"lucide-react\";\r\n\r\ninterface SidebarProps {\r\n  active?: string;\r\n  onSelect?: (id: string) => void;\r\n}\r\n\r\nconst items = [\r\n  { id: \"command_center\", icon: Map, label: \"Command Center\" },\r\n  { id: \"system_logs\", icon: Settings, label: \"System Logs\" },\r\n];\r\n\r\nexport const Sidebar: React.FC<SidebarProps> = ({ active = \"command_center\", onSelect }) => {\r\n  return (\r\n    <aside className=\"fixed left-4 top-4 bottom-4 w-20 flex flex-col items-center py-8 gap-8 z-50 glass-panel transition-all duration-300\">\r\n      {/* Brand Icon */}\r\n      <div className=\"w-10 h-10 rounded-xl bg-cyan-500/10 flex items-center justify-center border border-cyan-500/20 shadow-[0_0_15px_rgba(0,240,255,0.2)]\">\r\n        <div className=\"w-3 h-3 bg-[#00F0FF] rounded-full shadow-[0_0_10px_#00F0FF]\" />\r\n      </div>\r\n\r\n      {/* Navigation */}\r\n      <nav className=\"flex-1 flex flex-col items-center gap-6 w-full\">\r\n        {items.map((item) => {\r\n          const Icon = item.icon;\r\n          const isActive = active === item.id;\r\n\r\n          return (\r\n            <button\r\n              key={item.id}\r\n              onClick={() => onSelect?.(item.id)}\r\n              className=\"group relative flex items-center justify-center w-12 h-12 transition-all duration-300\"\r\n            >\r\n              {/* Active Glow Backdrop */}\r\n              {isActive && (\r\n                <div className=\"absolute inset-0 bg-[#EE6E4D]/20 rounded-xl blur-md\" />\r\n              )}\r\n\r\n              <div\r\n                className={`relative z-10 p-3 rounded-xl transition-all duration-300 ${isActive\r\n                  ? \"text-[#EE6E4D]\"\r\n                  : \"text-zinc-500 group-hover:text-zinc-300\"\r\n                  }`}\r\n              >\r\n                <Icon strokeWidth={isActive ? 2 : 1.5} className=\"w-6 h-6\" />\r\n              </div>\r\n\r\n              {/* Active Dot Indicator */}\r\n              {isActive && (\r\n                <div className=\"absolute right-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-[#EE6E4D] rounded-l-full shadow-[0_0_10px_#EE6E4D]\" />\r\n              )}\r\n            </button>\r\n          );\r\n        })}\r\n      </nav>\r\n\r\n      {/* User / Bottom Action */}\r\n      <div className=\"mt-auto\">\r\n        <div className=\"w-10 h-10 rounded-full bg-zinc-800/50 border border-white/5 flex items-center justify-center\">\r\n          <span className=\"text-xs font-bold text-zinc-400\">SA</span>\r\n        </div>\r\n      </div>\r\n    </aside>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AAAA;;;AAUA,MAAM,QAAQ;IACZ;QAAE,IAAI;QAAkB,MAAM,0MAAG;QAAE,OAAO;IAAiB;IAC3D;QAAE,IAAI;QAAe,MAAM,yNAAQ;QAAE,OAAO;IAAc;CAC3D;AAEM,MAAM,UAAkC,CAAC,EAAE,SAAS,gBAAgB,EAAE,QAAQ,EAAE;IACrF,qBACE,6LAAC;QAAM,WAAU;;0BAEf,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;;;;;;;;;;0BAIjB,6LAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC;oBACV,MAAM,OAAO,KAAK,IAAI;oBACtB,MAAM,WAAW,WAAW,KAAK,EAAE;oBAEnC,qBACE,6LAAC;wBAEC,SAAS,IAAM,WAAW,KAAK,EAAE;wBACjC,WAAU;;4BAGT,0BACC,6LAAC;gCAAI,WAAU;;;;;;0CAGjB,6LAAC;gCACC,WAAW,CAAC,yDAAyD,EAAE,WACnE,mBACA,2CACA;0CAEJ,cAAA,6LAAC;oCAAK,aAAa,WAAW,IAAI;oCAAK,WAAU;;;;;;;;;;;4BAIlD,0BACC,6LAAC;gCAAI,WAAU;;;;;;;uBApBZ,KAAK,EAAE;;;;;gBAwBlB;;;;;;0BAIF,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAK,WAAU;kCAAkC;;;;;;;;;;;;;;;;;;;;;;AAK5D;KAnDa"}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nkk77/Desktop/SENTRA/WSF/web-dashboard/src/components/StatCard.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { LucideIcon } from \"lucide-react\";\r\n\r\ninterface StatCardProps {\r\n  label: string;\r\n  value: string | number;\r\n  icon?: LucideIcon;\r\n  variant?: \"default\" | \"danger\" | \"warning\";\r\n}\r\n\r\nexport const StatCard: React.FC<StatCardProps> = ({ \r\n  label, \r\n  value, \r\n  icon: Icon, \r\n  variant = \"default\" \r\n}) => {\r\n  const getVariantStyles = () => {\r\n    switch (variant) {\r\n      case \"danger\":\r\n        return \"border-[#fb7185]/30 bg-[#fb7185]/10 text-[#fb7185] shadow-[0_0_15px_rgba(251,113,133,0.1)]\";\r\n      case \"warning\":\r\n        return \"border-amber-500/30 bg-amber-500/10 text-amber-500\";\r\n      default:\r\n        return \"border-white/10 bg-[#18181b]/60 text-white backdrop-blur-md\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`relative overflow-hidden rounded-2xl border ${getVariantStyles()} p-5 backdrop-blur-md min-w-[200px] transition-all hover:bg-[#18181b]/80`}>\r\n      <div className=\"flex justify-between items-start\">\r\n        <div>\r\n          <div className=\"text-[10px] font-bold uppercase tracking-widest text-zinc-500 mb-1\">\r\n            {label}\r\n          </div>\r\n          <div className=\"text-4xl font-light tracking-tight font-inter\">\r\n            {value}\r\n          </div>\r\n        </div>\r\n        {Icon && (\r\n          <div className={`p-2 rounded-lg ${variant === 'danger' ? 'bg-[#fb7185]/20' : 'bg-white/5'}`}>\r\n            <Icon className={`w-5 h-5 ${variant === 'danger' ? 'text-[#fb7185]' : 'text-[#22d3ee]'}`} />\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      {/* Decorator Line */}\r\n      <div className={`absolute bottom-0 left-0 h-1 w-full ${\r\n        variant === 'danger' \r\n          ? 'bg-gradient-to-r from-[#fb7185] to-transparent' \r\n          : 'bg-gradient-to-r from-[#22d3ee] to-transparent'\r\n      } opacity-20`} />\r\n    </div>\r\n  );\r\n};"],"names":[],"mappings":";;;;;;AAUO,MAAM,WAAoC,CAAC,EAChD,KAAK,EACL,KAAK,EACL,MAAM,IAAI,EACV,UAAU,SAAS,EACpB;IACC,MAAM,mBAAmB;QACvB,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,qBACE,6LAAC;QAAI,WAAW,CAAC,4CAA4C,EAAE,mBAAmB,wEAAwE,CAAC;;0BACzJ,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;;0CACC,6LAAC;gCAAI,WAAU;0CACZ;;;;;;0CAEH,6LAAC;gCAAI,WAAU;0CACZ;;;;;;;;;;;;oBAGJ,sBACC,6LAAC;wBAAI,WAAW,CAAC,eAAe,EAAE,YAAY,WAAW,oBAAoB,cAAc;kCACzF,cAAA,6LAAC;4BAAK,WAAW,CAAC,QAAQ,EAAE,YAAY,WAAW,mBAAmB,kBAAkB;;;;;;;;;;;;;;;;;0BAM9F,6LAAC;gBAAI,WAAW,CAAC,oCAAoC,EACnD,YAAY,WACR,mDACA,iDACL,WAAW,CAAC;;;;;;;;;;;;AAGnB;KA3Ca"}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nkk77/Desktop/SENTRA/WSF/web-dashboard/src/components/IncidentRow.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { MapPin, Clock, AlertTriangle } from \"lucide-react\";\r\n\r\ninterface IncidentRowProps {\r\n  id: string;\r\n  displayName: string;\r\n  location: string;\r\n  timestamp: string;\r\n  severity: \"low\" | \"medium\" | \"high\";\r\n  description?: string;\r\n  isSelected?: boolean;\r\n  onClick?: (id: string) => void;\r\n}\r\n\r\nexport const IncidentRow: React.FC<IncidentRowProps> = ({\r\n  id,\r\n  displayName,\r\n  location,\r\n  timestamp,\r\n  severity,\r\n  description,\r\n  isSelected = false,\r\n  onClick,\r\n}) => {\r\n  const getSeverityColor = (s: string) => {\r\n    switch (s) {\r\n      case \"high\": return \"text-[#fb7185] bg-[#fb7185]/10 border-[#fb7185]/20 shadow-[0_0_10px_rgba(251,113,133,0.2)]\";\r\n      case \"medium\": return \"text-amber-400 bg-amber-400/10 border-amber-400/20\";\r\n      default: return \"text-zinc-400 bg-zinc-800/50 border-white/5\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      onClick={() => onClick?.(id)}\r\n      className={`group relative p-4 mb-3 rounded-xl border transition-all cursor-pointer ${\r\n        isSelected\r\n          ? \"bg-[#22d3ee]/10 border-[#22d3ee]/50 shadow-[0_0_15px_rgba(34,211,238,0.1)]\"\r\n          : \"bg-[#18181b]/40 border-white/5 hover:border-white/10 hover:bg-[#18181b]/80\"\r\n      }`}\r\n    >\r\n      <div className=\"flex justify-between items-start mb-2\">\r\n        <div className=\"flex items-center gap-2\">\r\n            <span className={`inline-flex items-center justify-center w-2 h-2 rounded-full ${\r\n                severity === 'high' ? 'bg-[#fb7185] animate-pulse' : 'bg-emerald-400'\r\n            }`} />\r\n            <h3 className=\"font-medium text-sm text-zinc-100 group-hover:text-white transition-colors\">\r\n                {displayName}\r\n            </h3>\r\n        </div>\r\n        <span className=\"text-[10px] text-zinc-600 font-mono tracking-wide\">{timestamp}</span>\r\n      </div>\r\n\r\n      <div className=\"flex items-center gap-2 text-xs text-zinc-500 mb-3\">\r\n        <MapPin className=\"w-3 h-3 text-zinc-600\" />\r\n        {location}\r\n      </div>\r\n\r\n      <div className=\"flex items-center justify-between mt-2\">\r\n        <span className={`text-[10px] uppercase font-bold tracking-wider px-2 py-1 rounded border ${getSeverityColor(severity)}`}>\r\n            {severity} Priority\r\n        </span>\r\n        {severity === 'high' && (\r\n            <AlertTriangle className=\"w-4 h-4 text-[#fb7185]\" />\r\n        )}\r\n      </div>\r\n      \r\n      {description && (\r\n        <div className=\"mt-2 text-xs text-zinc-500 pl-2 border-l border-white/10\">\r\n            {description}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};"],"names":[],"mappings":";;;;;AACA;AAAA;;;AAaO,MAAM,cAA0C,CAAC,EACtD,EAAE,EACF,WAAW,EACX,QAAQ,EACR,SAAS,EACT,QAAQ,EACR,WAAW,EACX,aAAa,KAAK,EAClB,OAAO,EACR;IACC,MAAM,mBAAmB,CAAC;QACxB,OAAQ;YACN,KAAK;gBAAQ,OAAO;YACpB,KAAK;gBAAU,OAAO;YACtB;gBAAS,OAAO;QAClB;IACF;IAEA,qBACE,6LAAC;QACC,SAAS,IAAM,UAAU;QACzB,WAAW,CAAC,wEAAwE,EAClF,aACI,+EACA,8EACJ;;0BAEF,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAK,WAAW,CAAC,6DAA6D,EAC3E,aAAa,SAAS,+BAA+B,kBACvD;;;;;;0CACF,6LAAC;gCAAG,WAAU;0CACT;;;;;;;;;;;;kCAGT,6LAAC;wBAAK,WAAU;kCAAqD;;;;;;;;;;;;0BAGvE,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,uNAAM;wBAAC,WAAU;;;;;;oBACjB;;;;;;;0BAGH,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAK,WAAW,CAAC,wEAAwE,EAAE,iBAAiB,WAAW;;4BACnH;4BAAS;;;;;;;oBAEb,aAAa,wBACV,6LAAC,4OAAa;wBAAC,WAAU;;;;;;;;;;;;YAI9B,6BACC,6LAAC;gBAAI,WAAU;0BACV;;;;;;;;;;;;AAKb;KA5Da"}},
    {"offset": {"line": 383, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nkk77/Desktop/SENTRA/WSF/web-dashboard/src/components/MapView.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport mapboxgl from 'mapbox-gl';\r\nimport 'mapbox-gl/dist/mapbox-gl.css';\r\nimport { Incident, LiveLocation } from '../types';\r\nimport { Zone } from '../hooks/useZones';\r\n\r\nmapboxgl.accessToken = process.env.NEXT_PUBLIC_MAPBOX_TOKEN || 'pk.eyJ1IjoibmlraGlsMjEwMjA2IiwiYSI6ImNta2U0NG0zdTAzMzUzZXMwZjZwbXFzZ3kifQ.fgjpDhGp_9bUapwaLEvtsg';\r\n\r\ninterface MapViewProps {\r\n  incidents?: Incident[];\r\n  locations?: LiveLocation[];\r\n  zones?: Zone[];\r\n  selectedIncidentId?: string | null;\r\n  onSelectIncident?: (id: string) => void;\r\n  loading?: boolean;\r\n  supabaseEnabled?: boolean;\r\n  showHeatmap?: boolean;\r\n  mapStyle?: string;\r\n}\r\n\r\n// Helper: Check if point is inside a circle (for zone detection)\r\nfunction isPointInZone(lat: number, lng: number, zone: Zone): boolean {\r\n  const R = 6371; // Earth radius in km\r\n  const dLat = (zone.lat - lat) * Math.PI / 180;\r\n  const dLon = (zone.lng - lng) * Math.PI / 180;\r\n  const a =\r\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n    Math.cos(lat * Math.PI / 180) * Math.cos(zone.lat * Math.PI / 180) *\r\n    Math.sin(dLon / 2) * Math.sin(dLon / 2);\r\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n  const distance = R * c * 1000; // Convert to meters\r\n\r\n  return distance <= (zone.radius || 200);\r\n}\r\n\r\nexport const MapView: React.FC<MapViewProps> = ({\r\n  incidents = [],\r\n  locations = [],\r\n  zones = [],\r\n  selectedIncidentId,\r\n  onSelectIncident,\r\n  loading = false,\r\n  supabaseEnabled = false,\r\n  showHeatmap = false,\r\n  mapStyle = 'mapbox://styles/mapbox/dark-v11'\r\n}) => {\r\n  const mapContainer = useRef<HTMLDivElement>(null);\r\n  const map = useRef<mapboxgl.Map | null>(null);\r\n  const markersRef = useRef<mapboxgl.Marker[]>([]);\r\n  const [mapLoaded, setMapLoaded] = useState(false);\r\n\r\n  // Initialize Map\r\n  useEffect(() => {\r\n    if (map.current || !mapContainer.current) return;\r\n\r\n    map.current = new mapboxgl.Map({\r\n      container: mapContainer.current,\r\n      style: mapStyle,\r\n      center: [79.1559, 12.9692], // VIT Vellore\r\n      zoom: 13.5,\r\n      pitch: 45,\r\n      attributionControl: false\r\n    });\r\n\r\n    map.current.on('load', () => {\r\n      setMapLoaded(true);\r\n\r\n      // Add zone sources\r\n      map.current?.addSource('zones', {\r\n        type: 'geojson',\r\n        data: { type: 'FeatureCollection', features: [] }\r\n      });\r\n\r\n      // RED ZONES - Fill\r\n      map.current?.addLayer({\r\n        id: 'zones-red-fill',\r\n        type: 'fill',\r\n        source: 'zones',\r\n        filter: ['==', ['get', 'severity'], 'HIGH'],\r\n        paint: {\r\n          'fill-color': '#FF4D4D',\r\n          'fill-opacity': 0.25\r\n        }\r\n      });\r\n\r\n      // RED ZONES - Border\r\n      map.current?.addLayer({\r\n        id: 'zones-red-border',\r\n        type: 'line',\r\n        source: 'zones',\r\n        filter: ['==', ['get', 'severity'], 'HIGH'],\r\n        paint: {\r\n          'line-color': '#FF4D4D',\r\n          'line-width': 2,\r\n          'line-opacity': 0.8\r\n        }\r\n      });\r\n\r\n      // YELLOW ZONES - Fill\r\n      map.current?.addLayer({\r\n        id: 'zones-yellow-fill',\r\n        type: 'fill',\r\n        source: 'zones',\r\n        filter: ['==', ['get', 'severity'], 'MODERATE'],\r\n        paint: {\r\n          'fill-color': '#FFD700',\r\n          'fill-opacity': 0.15\r\n        }\r\n      });\r\n\r\n      // YELLOW ZONES - Border\r\n      map.current?.addLayer({\r\n        id: 'zones-yellow-border',\r\n        type: 'line',\r\n        source: 'zones',\r\n        filter: ['==', ['get', 'severity'], 'MODERATE'],\r\n        paint: {\r\n          'line-color': '#FFD700',\r\n          'line-width': 2,\r\n          'line-opacity': 0.6\r\n        }\r\n      });\r\n    });\r\n\r\n    return () => {\r\n      map.current?.remove();\r\n      map.current = null;\r\n    };\r\n  }, [mapStyle]);\r\n\r\n  // Update Zones\r\n  useEffect(() => {\r\n    if (!map.current || !mapLoaded) return;\r\n\r\n    const zoneFeatures = zones.map(zone => {\r\n      // Create circular polygon for each zone\r\n      const center = [zone.lng, zone.lat];\r\n      const radius = (zone.radius || 200) / 1000; // Convert to km\r\n      const points = 64;\r\n      const coords = [];\r\n\r\n      for (let i = 0; i < points; i++) {\r\n        const angle = (i / points) * 2 * Math.PI;\r\n        const dx = radius * Math.cos(angle) / 111; // Rough conversion\r\n        const dy = radius * Math.sin(angle) / (111 * Math.cos(zone.lat * Math.PI / 180));\r\n        coords.push([center[0] + dx, center[1] + dy]);\r\n      }\r\n      coords.push(coords[0]); // Close the polygon\r\n\r\n      return {\r\n        type: 'Feature',\r\n        geometry: {\r\n          type: 'Polygon',\r\n          coordinates: [coords]\r\n        },\r\n        properties: {\r\n          id: zone.id,\r\n          severity: zone.severity,\r\n          location: zone.location\r\n        }\r\n      };\r\n    });\r\n\r\n    (map.current.getSource('zones') as mapboxgl.GeoJSONSource)?.setData({\r\n      type: 'FeatureCollection',\r\n      features: zoneFeatures as any\r\n    });\r\n  }, [zones, mapLoaded]);\r\n\r\n  // Update User Markers (Beacons)\r\n  useEffect(() => {\r\n    if (!map.current) return;\r\n\r\n    // Clear existing markers\r\n    markersRef.current.forEach(m => m.remove());\r\n    markersRef.current = [];\r\n\r\n    locations.forEach(location => {\r\n      // Check if user is in a danger zone\r\n      let inRedZone = false;\r\n      let inYellowZone = false;\r\n\r\n      zones.forEach(zone => {\r\n        if (isPointInZone(location.latitude, location.longitude, zone)) {\r\n          if (zone.severity === 'HIGH') inRedZone = true;\r\n          if (zone.severity === 'MODERATE') inYellowZone = true;\r\n        }\r\n      });\r\n\r\n      // Create beacon element\r\n      const el = document.createElement('div');\r\n      el.className = 'user-beacon';\r\n      el.style.position = 'relative';\r\n      el.style.width = '32px';\r\n      el.style.height = '32px';\r\n\r\n      // Beacon dot\r\n      const dot = document.createElement('div');\r\n      dot.style.position = 'absolute';\r\n      dot.style.top = '50%';\r\n      dot.style.left = '50%';\r\n      dot.style.transform = 'translate(-50%, -50%)';\r\n      dot.style.width = inRedZone ? '20px' : '16px';\r\n      dot.style.height = inRedZone ? '20px' : '16px';\r\n      dot.style.borderRadius = '50%';\r\n      dot.style.border = '3px solid white';\r\n      dot.style.boxShadow = inRedZone\r\n        ? '0 0 20px rgba(255, 77, 77, 0.8)'\r\n        : inYellowZone\r\n          ? '0 0 15px rgba(255, 215, 0, 0.6)'\r\n          : '0 0 10px rgba(59, 130, 246, 0.5)';\r\n\r\n      // Color based on zone\r\n      if (inRedZone) {\r\n        dot.style.backgroundColor = '#FF4D4D';\r\n        dot.className = 'beacon-blink-red';\r\n      } else if (inYellowZone) {\r\n        dot.style.backgroundColor = '#FFD700';\r\n        dot.className = 'beacon-blink-yellow';\r\n      } else {\r\n        dot.style.backgroundColor = '#3B82F6';\r\n      }\r\n\r\n      el.appendChild(dot);\r\n\r\n      // Add directional arrow if heading is available\r\n      if (location.heading !== null && location.heading !== undefined) {\r\n        const arrow = document.createElement('div');\r\n        arrow.style.position = 'absolute';\r\n        arrow.style.top = '0';\r\n        arrow.style.left = '50%';\r\n        arrow.style.width = '0';\r\n        arrow.style.height = '0';\r\n        arrow.style.borderLeft = '6px solid transparent';\r\n        arrow.style.borderRight = '6px solid transparent';\r\n        arrow.style.borderBottom = '12px solid white';\r\n        arrow.style.transform = `translateX(-50%) rotate(${location.heading}deg)`;\r\n        arrow.style.transformOrigin = 'center 24px';\r\n        arrow.style.filter = 'drop-shadow(0 0 3px rgba(0,0,0,0.5))';\r\n        el.appendChild(arrow);\r\n      }\r\n\r\n      const marker = new mapboxgl.Marker({ element: el })\r\n        .setLngLat([location.longitude, location.latitude])\r\n        .setPopup(new mapboxgl.Popup({ offset: 25, className: 'beacon-popup' }).setHTML(`\r\n          <div style=\"color: #fff; background: #18181b; padding: 8px; border-radius: 8px;\">\r\n            <div style=\"font-weight: bold; margin-bottom: 4px;\">User: ${location.user_id}</div>\r\n            <div style=\"font-size: 11px; color: #a1a1aa;\">\r\n              ${inRedZone ? 'ðŸ”´ IN RED ZONE' : inYellowZone ? 'ðŸŸ¡ IN YELLOW ZONE' : 'ðŸŸ¢ SAFE'}\r\n            </div>\r\n            ${location.speed ? `<div style=\"font-size: 11px; color: #a1a1aa;\">Speed: ${location.speed.toFixed(1)} m/s</div>` : ''}\r\n          </div>\r\n        `))\r\n        .addTo(map.current!);\r\n\r\n      markersRef.current.push(marker);\r\n    });\r\n  }, [locations, zones]);\r\n\r\n  // Render Incidents\r\n  useEffect(() => {\r\n    if (!map.current) return;\r\n\r\n    incidents.forEach(incident => {\r\n      const el = document.createElement('div');\r\n      el.className = 'incident-marker';\r\n      el.style.width = '24px';\r\n      el.style.height = '24px';\r\n      el.style.borderRadius = '50%';\r\n      el.style.backgroundColor = incident.severity === 'high' ? '#EF4444' : '#F59E0B';\r\n      el.style.border = '3px solid white';\r\n      el.style.boxShadow = '0 0 15px rgba(239, 68, 68, 0.6)';\r\n      el.style.cursor = 'pointer';\r\n      el.style.animation = 'pulse 2s infinite';\r\n\r\n      el.addEventListener('click', () => {\r\n        if (onSelectIncident) onSelectIncident(incident.id);\r\n      });\r\n\r\n      const marker = new mapboxgl.Marker(el)\r\n        .setLngLat([incident.longitude, incident.latitude])\r\n        .setPopup(new mapboxgl.Popup({ offset: 25 }).setHTML(`\r\n          <div style=\"color: #000; font-weight: bold;\">${incident.display_name || 'Unknown'}</div>\r\n          <div style=\"color: #555; font-size: 12px;\">${incident.notes || 'No details'}</div>\r\n        `))\r\n        .addTo(map.current!);\r\n\r\n      markersRef.current.push(marker);\r\n    });\r\n  }, [incidents, onSelectIncident]);\r\n\r\n  return (\r\n    <>\r\n      <div ref={mapContainer} style={{ width: '100%', height: '100%' }} />\r\n      <style jsx>{`\r\n        @keyframes beacon-blink-red {\r\n          0%, 100% { opacity: 1; transform: translate(-50%, -50%) scale(1); }\r\n          50% { opacity: 0.6; transform: translate(-50%, -50%) scale(1.1); }\r\n        }\r\n        @keyframes beacon-blink-yellow {\r\n          0%, 100% { opacity: 1; transform: translate(-50%, -50%) scale(1); }\r\n          50% { opacity: 0.7; transform: translate(-50%, -50%) scale(1.05); }\r\n        }\r\n        .beacon-blink-red {\r\n          animation: beacon-blink-red 1s infinite;\r\n        }\r\n        .beacon-blink-yellow {\r\n          animation: beacon-blink-yellow 1.5s infinite;\r\n        }\r\n      `}</style>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MapView;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 740, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nkk77/Desktop/SENTRA/WSF/web-dashboard/src/components/RespondersList.tsx"],"sourcesContent":["import React from \"react\";\nimport { ShieldCheck, Zap, Radio } from \"lucide-react\";\n\ninterface Responder {\n  id: string;\n  name: string;\n  status: \"Available\" | \"En-Route\";\n  location: string;\n}\n\nconst mockResponders: Responder[] = [\n  { id: \"unit-1\", name: \"Police Unit 01\", status: \"Available\", location: \"Sector 5\" },\n  { id: \"unit-2\", name: \"Police Unit 02\", status: \"En-Route\", location: \"Sector 9\" },\n  { id: \"unit-3\", name: \"Security Team A\", status: \"Available\", location: \"Sector 2\" },\n];\n\nexport const RespondersList: React.FC = () => {\n  return (\n    <div className=\"absolute top-20 left-32 z-10 w-80 bg-black/80 backdrop-blur-xl rounded-2xl border border-white/10 shadow-2xl overflow-hidden\">\n      <div className=\"p-4 border-b border-white/5\">\n        <h2 className=\"text-lg font-light text-white tracking-wide\">ACTIVE RESPONDERS</h2>\n        <p className=\"text-xs text-zinc-500 uppercase tracking-widest mt-1\">Police & Security Units</p>\n      </div>\n      <div className=\"flex flex-col\">\n        {mockResponders.map((responder) => (\n          <div key={responder.id} className=\"flex items-center gap-4 p-4 border-b border-white/5 last:border-b-0 hover:bg-white/5 transition-colors\">\n            <div className={`p-2 rounded-lg ${responder.status === 'Available' ? 'bg-green-500/20 text-green-400' : 'bg-yellow-500/20 text-yellow-400'}`}>\n              {responder.status === \"Available\" ? <ShieldCheck className=\"w-5 h-5\" /> : <Zap className=\"w-5 h-5\" />}\n            </div>\n            <div>\n              <p className=\"font-medium text-white\">{responder.name}</p>\n              <p className=\"text-sm text-zinc-400\">{responder.location}</p>\n            </div>\n            <div className=\"ml-auto text-right\">\n              <p className={`text-xs font-bold uppercase ${responder.status === 'Available' ? 'text-green-400' : 'text-yellow-400'}`}>\n                {responder.status}\n              </p>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};"],"names":[],"mappings":";;;;;AACA;AAAA;;;AASA,MAAM,iBAA8B;IAClC;QAAE,IAAI;QAAU,MAAM;QAAkB,QAAQ;QAAa,UAAU;IAAW;IAClF;QAAE,IAAI;QAAU,MAAM;QAAkB,QAAQ;QAAY,UAAU;IAAW;IACjF;QAAE,IAAI;QAAU,MAAM;QAAmB,QAAQ;QAAa,UAAU;IAAW;CACpF;AAEM,MAAM,iBAA2B;IACtC,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAA8C;;;;;;kCAC5D,6LAAC;wBAAE,WAAU;kCAAuD;;;;;;;;;;;;0BAEtE,6LAAC;gBAAI,WAAU;0BACZ,eAAe,GAAG,CAAC,CAAC,0BACnB,6LAAC;wBAAuB,WAAU;;0CAChC,6LAAC;gCAAI,WAAW,CAAC,eAAe,EAAE,UAAU,MAAM,KAAK,cAAc,mCAAmC,oCAAoC;0CACzI,UAAU,MAAM,KAAK,4BAAc,6LAAC,sOAAW;oCAAC,WAAU;;;;;6FAAe,6LAAC,0MAAG;oCAAC,WAAU;;;;;;;;;;;0CAE3F,6LAAC;;kDACC,6LAAC;wCAAE,WAAU;kDAA0B,UAAU,IAAI;;;;;;kDACrD,6LAAC;wCAAE,WAAU;kDAAyB,UAAU,QAAQ;;;;;;;;;;;;0CAE1D,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAE,WAAW,CAAC,4BAA4B,EAAE,UAAU,MAAM,KAAK,cAAc,mBAAmB,mBAAmB;8CACnH,UAAU,MAAM;;;;;;;;;;;;uBAVb,UAAU,EAAE;;;;;;;;;;;;;;;;AAkBhC;KA3Ba"}},
    {"offset": {"line": 890, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nkk77/Desktop/SENTRA/WSF/web-dashboard/src/components/Dashboard.tsx"],"sourcesContent":["import React, { useMemo, useState } from \"react\";\r\nimport { useTheme } from \"next-themes\";\r\nimport { DashboardLayout } from \"./DashboardLayout\";\r\nimport { Sidebar } from \"./Sidebar\";\r\nimport { StatCard } from \"./StatCard\";\r\nimport { IncidentRow } from \"./IncidentRow\";\r\nimport { MapView } from \"./MapView\";\r\nimport { RespondersList } from \"./RespondersList\";\r\nimport { Incident, LiveLocation } from \"../types\";\r\nimport { AlertTriangle, Users, ShieldAlert, X, Menu, Sun, Moon } from \"lucide-react\";\r\n\r\n// Mock data\r\nconst mockIncidents: Incident[] = [\r\n  {\r\n    id: \"sos-1\",\r\n    user_id: \"user-1\",\r\n    status: \"open\",\r\n    severity: \"high\",\r\n    latitude: 12.9724,\r\n    longitude: 79.1551,\r\n    created_at: new Date().toISOString(),\r\n    notes: \"Audio anomaly detected during transit\",\r\n    display_name: \"Sarah K.\",\r\n    source: \"audio\",\r\n  },\r\n  {\r\n    id: \"sos-2\",\r\n    user_id: \"user-2\",\r\n    status: \"acknowledged\",\r\n    severity: \"medium\",\r\n    latitude: 12.9696,\r\n    longitude: 79.1589,\r\n    created_at: new Date(Date.now() - 5 * 60000).toISOString(),\r\n    notes: \"Route deviation > 500m\",\r\n    display_name: \"Priya M.\",\r\n    source: \"route\",\r\n  },\r\n];\r\n\r\nconst mockLocations: LiveLocation[] = [\r\n  { user_id: \"user-1\", latitude: 12.9724, longitude: 79.1551, heading: 40, speed: 1.1, updated_at: new Date().toISOString() },\r\n  { user_id: \"user-2\", latitude: 12.9696, longitude: 79.1589, heading: 110, speed: 0.5, updated_at: new Date().toISOString() },\r\n];\r\n\r\nexport const Dashboard: React.FC = () => {\r\n  const { theme, setTheme } = useTheme();\r\n  const [selectedIncidentId, setSelectedIncidentId] = useState<string | null>(null);\r\n  const [activeView, setActiveView] = useState(\"overview\");\r\n  const [drawerOpen, setDrawerOpen] = useState(true);\r\n  const [showHeatmap, setShowHeatmap] = useState(false);\r\n  const [showResponders, setShowResponders] = useState(false);\r\n\r\n  const incidents = useMemo(() => mockIncidents, []);\r\n  const locations = useMemo(() => mockLocations, []);\r\n\r\n  const activeAlerts = incidents.filter((i) => i.status !== \"resolved\").length;\r\n  const usersConnected = locations.length;\r\n\r\n  const formatTimestamp = (timestamp: string) => {\r\n    return new Date(timestamp).toLocaleTimeString(\"en-US\", {\r\n      hour: \"2-digit\",\r\n      minute: \"2-digit\",\r\n    });\r\n  };\r\n\r\n  const handleSelect = (id: string) => {\r\n    setActiveView(id);\r\n    if (id === \"heatmap\") {\r\n      setShowHeatmap((prev) => !prev);\r\n      setShowResponders(false);\r\n    } else if (id === \"responders\") {\r\n      setShowResponders((prev) => !prev);\r\n      setShowHeatmap(false);\r\n    } else {\r\n      setShowHeatmap(false);\r\n      setShowResponders(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <DashboardLayout>\r\n      <div className=\"absolute inset-0 z-0\">\r\n        <MapView\r\n          incidents={incidents}\r\n          locations={locations}\r\n          selectedIncidentId={selectedIncidentId}\r\n          onSelectIncident={setSelectedIncidentId}\r\n          loading={false}\r\n          supabaseEnabled={false}\r\n          showHeatmap={showHeatmap}\r\n        />\r\n      </div>\r\n\r\n      <Sidebar active={activeView} onSelect={handleSelect} />\r\n\r\n      {showResponders && <RespondersList />}\r\n\r\n      <div className=\"absolute top-4 left-32 z-10 flex gap-4 pointer-events-none\">\r\n        <div className=\"pointer-events-auto\">\r\n          <StatCard\r\n            label=\"Active Alerts\"\r\n            value={activeAlerts}\r\n            icon={AlertTriangle}\r\n            variant={activeAlerts > 0 ? \"danger\" : \"default\"}\r\n          />\r\n        </div>\r\n        <div className=\"pointer-events-auto\">\r\n          <StatCard\r\n            label=\"Users Connected\"\r\n            value={usersConnected}\r\n            icon={Users}\r\n          />\r\n        </div>\r\n        <div className=\"pointer-events-auto\">\r\n          <StatCard\r\n            label=\"Redzones Active\"\r\n            value=\"3\"\r\n            icon={ShieldAlert}\r\n          />\r\n        </div>\r\n        <div className=\"pointer-events-auto\">\r\n          <button\r\n            onClick={() => setTheme(theme === 'dark' ? 'light' : 'dark')}\r\n            className=\"p-3 bg-black/60 border border-white/10 text-white rounded-xl backdrop-blur-md shadow-lg\"\r\n          >\r\n            {theme === 'dark' ? <Sun className=\"w-6 h-6\" /> : <Moon className=\"w-6 h-6\" />}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        className={`absolute top-4 bottom-4 right-4 w-96 z-20 transition-transform duration-300 transform ${\r\n          drawerOpen ? 'translate-x-0' : 'translate-x-[110%]'\r\n        }`}\r\n      >\r\n        <div className=\"h-full rounded-2xl border border-white/10 bg-black/80 backdrop-blur-xl shadow-2xl overflow-hidden flex flex-col\">\r\n          <div className=\"p-6 border-b border-white/5 flex items-center justify-between\">\r\n            <div>\r\n              <h2 className=\"text-lg font-light text-white tracking-wide\">LIVE INCIDENTS</h2>\r\n              <div className=\"text-xs text-zinc-500 uppercase tracking-widest mt-1\">Real-time Feed</div>\r\n            </div>\r\n            <button\r\n              onClick={() => setDrawerOpen(false)}\r\n              className=\"p-2 hover:bg-white/5 rounded-lg text-zinc-400 hover:text-white transition-colors\"\r\n            >\r\n              <X className=\"w-5 h-5\" />\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"flex-1 overflow-y-auto p-4 space-y-2\">\r\n            {incidents.map((incident) => (\r\n              <IncidentRow\r\n                key={incident.id}\r\n                id={incident.id}\r\n                displayName={incident.display_name || \"Unknown User\"}\r\n                location=\"Katpadi Region\"\r\n                timestamp={formatTimestamp(incident.created_at)}\r\n                severity={incident.severity}\r\n                description={incident.notes}\r\n                isSelected={selectedIncidentId === incident.id}\r\n                onClick={setSelectedIncidentId}\r\n              />\r\n            ))}\r\n          </div>\r\n\r\n          <div className=\"p-4 border-t border-white/5 bg-white/5\">\r\n            <div className=\"flex items-center gap-2 text-xs text-zinc-500\">\r\n              <div className=\"w-2 h-2 rounded-full bg-emerald-500 animate-pulse\" />\r\n              System Monitoring Active\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {!drawerOpen && (\r\n        <button\r\n          onClick={() => setDrawerOpen(true)}\r\n          className=\"absolute top-4 right-4 z-20 p-3 bg-black/60 border border-white/10 text-white rounded-xl backdrop-blur-md shadow-lg\"\r\n        >\r\n          <Menu className=\"w-6 h-6\" />\r\n        </button>\r\n      )}\r\n    </DashboardLayout>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1268, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nkk77/Desktop/SENTRA/WSF/web-dashboard/src/components/ThemeProvider.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { ThemeProvider as NextThemesProvider } from \"next-themes\";\nimport { type ThemeProviderProps } from \"next-themes/dist/types\";\n\nexport function ThemeProvider({ children, ...props }: ThemeProviderProps) {\n  return <NextThemesProvider {...props}>{children}</NextThemesProvider>;\n}\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAMO,SAAS,cAAc,EAAE,QAAQ,EAAE,GAAG,OAA2B;IACtE,qBAAO,6LAAC,oKAAkB;QAAE,GAAG,KAAK;kBAAG;;;;;;AACzC;KAFgB"}},
    {"offset": {"line": 1297, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nkk77/Desktop/SENTRA/WSF/web-dashboard/app/demo/option2/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { Dashboard } from \"../../../src/components/Dashboard\";\r\nimport { ThemeProvider } from \"../../../src/components/ThemeProvider\";\r\n\r\nexport default function Option2Page() {\r\n    return (\r\n        <ThemeProvider>\r\n            <Dashboard />\r\n        </ThemeProvider>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAJA;;;;AAMe,SAAS;IACpB,qBACI,6LAAC,uJAAa;kBACV,cAAA,6LAAC,+IAAS;;;;;;;;;;AAGtB;KANwB"}}]
}