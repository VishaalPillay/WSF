{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nkk77/Desktop/SENTRA/WSF/web-dashboard/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n    return twMerge(clsx(inputs))\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACtC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACxB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nkk77/Desktop/SENTRA/WSF/web-dashboard/src/components/ui/switch.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Switch = React.forwardRef<\r\n  React.ElementRef<typeof SwitchPrimitives.Root>,\r\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\r\n>(({ className, ...props }, ref) => (\r\n  <SwitchPrimitives.Root\r\n    className={cn(\r\n      \"peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\r\n      className\r\n    )}\r\n    {...props}\r\n    ref={ref}\r\n  >\r\n    <SwitchPrimitives.Thumb\r\n      className={cn(\r\n        \"pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0\"\r\n      )}\r\n    />\r\n  </SwitchPrimitives.Root>\r\n))\r\nSwitch.displayName = SwitchPrimitives.Root.displayName\r\n\r\nexport { Switch }\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,2KAAgB,MAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,6KAAqB;QACpB,WAAW,IAAA,4HAAE,EACX,+XACA;QAED,GAAG,KAAK;QACT,KAAK;kBAEL,cAAA,6LAAC,8KAAsB;YACrB,WAAW,IAAA,4HAAE,EACX;;;;;;;;;;;;AAKR,OAAO,WAAW,GAAG,6KAAqB,CAAC,WAAW"}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nkk77/Desktop/SENTRA/WSF/web-dashboard/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\r\n        outline:\r\n          \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-9 px-4 py-2\",\r\n        sm: \"h-8 rounded-md px-3 text-xs\",\r\n        lg: \"h-10 rounded-md px-8\",\r\n        icon: \"h-9 w-9\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n  VariantProps<typeof buttonVariants> {\r\n  asChild?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n    const Comp = asChild ? Slot : \"button\"\r\n    return (\r\n      <Comp\r\n        className={cn(buttonVariants({ variant, size, className }))}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,uOACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,2KAAgB,MAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,IAAA,4HAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nkk77/Desktop/SENTRA/WSF/web-dashboard/src/components/ui/avatar.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as AvatarPrimitives from \"@radix-ui/react-avatar\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Avatar = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitives.Root>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitives.Root>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitives.Root\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nAvatar.displayName = AvatarPrimitives.Root.displayName\r\n\r\nconst AvatarImage = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitives.Image>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitives.Image>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitives.Image\r\n    ref={ref}\r\n    className={cn(\"aspect-square h-full w-full\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAvatarImage.displayName = AvatarPrimitives.Image.displayName\r\n\r\nconst AvatarFallback = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitives.Fallback>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitives.Fallback>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitives.Fallback\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nAvatarFallback.displayName = AvatarPrimitives.Fallback.displayName\r\n\r\nexport { Avatar, AvatarImage, AvatarFallback }\r\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,2KAAgB,MAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,6KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;;AAGb,OAAO,WAAW,GAAG,6KAAqB,CAAC,WAAW;AAEtD,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,+BAA+B;QAC5C,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAsB,CAAC,WAAW;AAE5D,MAAM,+BAAiB,2KAAgB,OAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,iLAAyB;QACxB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,wEACA;QAED,GAAG,KAAK;;;;;;;AAGb,eAAe,WAAW,GAAG,iLAAyB,CAAC,WAAW"}},
    {"offset": {"line": 196, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nkk77/Desktop/SENTRA/WSF/web-dashboard/src/components/MapView.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport mapboxgl from 'mapbox-gl';\r\nimport 'mapbox-gl/dist/mapbox-gl.css';\r\nimport { Incident, LiveLocation } from '../types';\r\nimport { Zone } from '../hooks/useZones';\r\n\r\nmapboxgl.accessToken = process.env.NEXT_PUBLIC_MAPBOX_TOKEN || 'pk.eyJ1IjoibmlraGlsMjEwMjA2IiwiYSI6ImNta2U0NG0zdTAzMzUzZXMwZjZwbXFzZ3kifQ.fgjpDhGp_9bUapwaLEvtsg';\r\n\r\ninterface MapViewProps {\r\n  incidents?: Incident[];\r\n  locations?: LiveLocation[];\r\n  zones?: Zone[];\r\n  selectedIncidentId?: string | null;\r\n  onSelectIncident?: (id: string) => void;\r\n  loading?: boolean;\r\n  supabaseEnabled?: boolean;\r\n  showHeatmap?: boolean;\r\n  mapStyle?: string;\r\n}\r\n\r\n// Helper: Check if point is inside a circle (for zone detection)\r\nfunction isPointInZone(lat: number, lng: number, zone: Zone): boolean {\r\n  const R = 6371; // Earth radius in km\r\n  const dLat = (zone.lat - lat) * Math.PI / 180;\r\n  const dLon = (zone.lng - lng) * Math.PI / 180;\r\n  const a =\r\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n    Math.cos(lat * Math.PI / 180) * Math.cos(zone.lat * Math.PI / 180) *\r\n    Math.sin(dLon / 2) * Math.sin(dLon / 2);\r\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n  const distance = R * c * 1000; // Convert to meters\r\n\r\n  return distance <= (zone.radius || 200);\r\n}\r\n\r\nexport const MapView: React.FC<MapViewProps> = ({\r\n  incidents = [],\r\n  locations = [],\r\n  zones = [],\r\n  selectedIncidentId,\r\n  onSelectIncident,\r\n  loading = false,\r\n  supabaseEnabled = false,\r\n  showHeatmap = false,\r\n  mapStyle = 'mapbox://styles/mapbox/dark-v11'\r\n}) => {\r\n  const mapContainer = useRef<HTMLDivElement>(null);\r\n  const map = useRef<mapboxgl.Map | null>(null);\r\n  const markersRef = useRef<mapboxgl.Marker[]>([]);\r\n  const [mapLoaded, setMapLoaded] = useState(false);\r\n\r\n  // Initialize Map\r\n  useEffect(() => {\r\n    if (map.current || !mapContainer.current) return;\r\n\r\n    map.current = new mapboxgl.Map({\r\n      container: mapContainer.current,\r\n      style: mapStyle,\r\n      center: [79.1559, 12.9692], // VIT Vellore\r\n      zoom: 13.5,\r\n      pitch: 45,\r\n      attributionControl: false\r\n    });\r\n\r\n    map.current.on('load', () => {\r\n      setMapLoaded(true);\r\n\r\n      // Add zone sources\r\n      map.current?.addSource('zones', {\r\n        type: 'geojson',\r\n        data: { type: 'FeatureCollection', features: [] }\r\n      });\r\n\r\n      // RED ZONES - Fill\r\n      map.current?.addLayer({\r\n        id: 'zones-red-fill',\r\n        type: 'fill',\r\n        source: 'zones',\r\n        filter: ['==', ['get', 'severity'], 'HIGH'],\r\n        paint: {\r\n          'fill-color': '#FF4D4D',\r\n          'fill-opacity': 0.25\r\n        }\r\n      });\r\n\r\n      // RED ZONES - Border\r\n      map.current?.addLayer({\r\n        id: 'zones-red-border',\r\n        type: 'line',\r\n        source: 'zones',\r\n        filter: ['==', ['get', 'severity'], 'HIGH'],\r\n        paint: {\r\n          'line-color': '#FF4D4D',\r\n          'line-width': 2,\r\n          'line-opacity': 0.8\r\n        }\r\n      });\r\n\r\n      // YELLOW ZONES - Fill\r\n      map.current?.addLayer({\r\n        id: 'zones-yellow-fill',\r\n        type: 'fill',\r\n        source: 'zones',\r\n        filter: ['==', ['get', 'severity'], 'MODERATE'],\r\n        paint: {\r\n          'fill-color': '#FFD700',\r\n          'fill-opacity': 0.15\r\n        }\r\n      });\r\n\r\n      // YELLOW ZONES - Border\r\n      map.current?.addLayer({\r\n        id: 'zones-yellow-border',\r\n        type: 'line',\r\n        source: 'zones',\r\n        filter: ['==', ['get', 'severity'], 'MODERATE'],\r\n        paint: {\r\n          'line-color': '#FFD700',\r\n          'line-width': 2,\r\n          'line-opacity': 0.6\r\n        }\r\n      });\r\n    });\r\n\r\n    return () => {\r\n      map.current?.remove();\r\n      map.current = null;\r\n    };\r\n  }, [mapStyle]);\r\n\r\n  // Update Zones\r\n  useEffect(() => {\r\n    if (!map.current || !mapLoaded) return;\r\n\r\n    const zoneFeatures = zones.map(zone => {\r\n      // Create circular polygon for each zone\r\n      const center = [zone.lng, zone.lat];\r\n      const radius = (zone.radius || 200) / 1000; // Convert to km\r\n      const points = 64;\r\n      const coords = [];\r\n\r\n      for (let i = 0; i < points; i++) {\r\n        const angle = (i / points) * 2 * Math.PI;\r\n        const dx = radius * Math.cos(angle) / 111; // Rough conversion\r\n        const dy = radius * Math.sin(angle) / (111 * Math.cos(zone.lat * Math.PI / 180));\r\n        coords.push([center[0] + dx, center[1] + dy]);\r\n      }\r\n      coords.push(coords[0]); // Close the polygon\r\n\r\n      return {\r\n        type: 'Feature',\r\n        geometry: {\r\n          type: 'Polygon',\r\n          coordinates: [coords]\r\n        },\r\n        properties: {\r\n          id: zone.id,\r\n          severity: zone.severity,\r\n          location: zone.location\r\n        }\r\n      };\r\n    });\r\n\r\n    (map.current.getSource('zones') as mapboxgl.GeoJSONSource)?.setData({\r\n      type: 'FeatureCollection',\r\n      features: zoneFeatures as any\r\n    });\r\n  }, [zones, mapLoaded]);\r\n\r\n  // Update User Markers (Beacons)\r\n  useEffect(() => {\r\n    if (!map.current) return;\r\n\r\n    // Clear existing markers\r\n    markersRef.current.forEach(m => m.remove());\r\n    markersRef.current = [];\r\n\r\n    locations.forEach(location => {\r\n      // Check if user is in a danger zone\r\n      let inRedZone = false;\r\n      let inYellowZone = false;\r\n\r\n      zones.forEach(zone => {\r\n        if (isPointInZone(location.latitude, location.longitude, zone)) {\r\n          if (zone.severity === 'HIGH') inRedZone = true;\r\n          if (zone.severity === 'MODERATE') inYellowZone = true;\r\n        }\r\n      });\r\n\r\n      // Create beacon element\r\n      const el = document.createElement('div');\r\n      el.className = 'user-beacon';\r\n      el.style.position = 'relative';\r\n      el.style.width = '32px';\r\n      el.style.height = '32px';\r\n\r\n      // Beacon dot\r\n      const dot = document.createElement('div');\r\n      dot.style.position = 'absolute';\r\n      dot.style.top = '50%';\r\n      dot.style.left = '50%';\r\n      dot.style.transform = 'translate(-50%, -50%)';\r\n      dot.style.width = inRedZone ? '20px' : '16px';\r\n      dot.style.height = inRedZone ? '20px' : '16px';\r\n      dot.style.borderRadius = '50%';\r\n      dot.style.border = '3px solid white';\r\n      dot.style.boxShadow = inRedZone\r\n        ? '0 0 20px rgba(255, 77, 77, 0.8)'\r\n        : inYellowZone\r\n          ? '0 0 15px rgba(255, 215, 0, 0.6)'\r\n          : '0 0 10px rgba(59, 130, 246, 0.5)';\r\n\r\n      // Color based on zone\r\n      if (inRedZone) {\r\n        dot.style.backgroundColor = '#FF4D4D';\r\n        dot.className = 'beacon-blink-red';\r\n      } else if (inYellowZone) {\r\n        dot.style.backgroundColor = '#FFD700';\r\n        dot.className = 'beacon-blink-yellow';\r\n      } else {\r\n        dot.style.backgroundColor = '#3B82F6';\r\n      }\r\n\r\n      el.appendChild(dot);\r\n\r\n      // Add directional arrow if heading is available\r\n      if (location.heading !== null && location.heading !== undefined) {\r\n        const arrow = document.createElement('div');\r\n        arrow.style.position = 'absolute';\r\n        arrow.style.top = '0';\r\n        arrow.style.left = '50%';\r\n        arrow.style.width = '0';\r\n        arrow.style.height = '0';\r\n        arrow.style.borderLeft = '6px solid transparent';\r\n        arrow.style.borderRight = '6px solid transparent';\r\n        arrow.style.borderBottom = '12px solid white';\r\n        arrow.style.transform = `translateX(-50%) rotate(${location.heading}deg)`;\r\n        arrow.style.transformOrigin = 'center 24px';\r\n        arrow.style.filter = 'drop-shadow(0 0 3px rgba(0,0,0,0.5))';\r\n        el.appendChild(arrow);\r\n      }\r\n\r\n      const marker = new mapboxgl.Marker({ element: el })\r\n        .setLngLat([location.longitude, location.latitude])\r\n        .setPopup(new mapboxgl.Popup({ offset: 25, className: 'beacon-popup' }).setHTML(`\r\n          <div style=\"color: #fff; background: #18181b; padding: 8px; border-radius: 8px;\">\r\n            <div style=\"font-weight: bold; margin-bottom: 4px;\">User: ${location.user_id}</div>\r\n            <div style=\"font-size: 11px; color: #a1a1aa;\">\r\n              ${inRedZone ? 'ðŸ”´ IN RED ZONE' : inYellowZone ? 'ðŸŸ¡ IN YELLOW ZONE' : 'ðŸŸ¢ SAFE'}\r\n            </div>\r\n            ${location.speed ? `<div style=\"font-size: 11px; color: #a1a1aa;\">Speed: ${location.speed.toFixed(1)} m/s</div>` : ''}\r\n          </div>\r\n        `))\r\n        .addTo(map.current!);\r\n\r\n      markersRef.current.push(marker);\r\n    });\r\n  }, [locations, zones]);\r\n\r\n  // Render Incidents\r\n  useEffect(() => {\r\n    if (!map.current) return;\r\n\r\n    incidents.forEach(incident => {\r\n      const el = document.createElement('div');\r\n      el.className = 'incident-marker';\r\n      el.style.width = '24px';\r\n      el.style.height = '24px';\r\n      el.style.borderRadius = '50%';\r\n      el.style.backgroundColor = incident.severity === 'high' ? '#EF4444' : '#F59E0B';\r\n      el.style.border = '3px solid white';\r\n      el.style.boxShadow = '0 0 15px rgba(239, 68, 68, 0.6)';\r\n      el.style.cursor = 'pointer';\r\n      el.style.animation = 'pulse 2s infinite';\r\n\r\n      el.addEventListener('click', () => {\r\n        if (onSelectIncident) onSelectIncident(incident.id);\r\n      });\r\n\r\n      const marker = new mapboxgl.Marker(el)\r\n        .setLngLat([incident.longitude, incident.latitude])\r\n        .setPopup(new mapboxgl.Popup({ offset: 25 }).setHTML(`\r\n          <div style=\"color: #000; font-weight: bold;\">${incident.display_name || 'Unknown'}</div>\r\n          <div style=\"color: #555; font-size: 12px;\">${incident.notes || 'No details'}</div>\r\n        `))\r\n        .addTo(map.current!);\r\n\r\n      markersRef.current.push(marker);\r\n    });\r\n  }, [incidents, onSelectIncident]);\r\n\r\n  return (\r\n    <>\r\n      <div ref={mapContainer} style={{ width: '100%', height: '100%' }} />\r\n      <style jsx>{`\r\n        @keyframes beacon-blink-red {\r\n          0%, 100% { opacity: 1; transform: translate(-50%, -50%) scale(1); }\r\n          50% { opacity: 0.6; transform: translate(-50%, -50%) scale(1.1); }\r\n        }\r\n        @keyframes beacon-blink-yellow {\r\n          0%, 100% { opacity: 1; transform: translate(-50%, -50%) scale(1); }\r\n          50% { opacity: 0.7; transform: translate(-50%, -50%) scale(1.05); }\r\n        }\r\n        .beacon-blink-red {\r\n          animation: beacon-blink-red 1s infinite;\r\n        }\r\n        .beacon-blink-yellow {\r\n          animation: beacon-blink-yellow 1.5s infinite;\r\n        }\r\n      `}</style>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MapView;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 553, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nkk77/Desktop/SENTRA/WSF/web-dashboard/src/components/ZoneFormModal.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { X, MapPin, AlertTriangle, Clock, Save } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Zone } from '../hooks/useZones';\r\n\r\ninterface ZoneFormModalProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    onSave: (zone: Partial<Zone>) => void;\r\n    editingZone?: Zone | null;\r\n    mode: 'add' | 'edit';\r\n}\r\n\r\nexport const ZoneFormModal: React.FC<ZoneFormModalProps> = ({\r\n    isOpen,\r\n    onClose,\r\n    onSave,\r\n    editingZone,\r\n    mode\r\n}) => {\r\n    const [formData, setFormData] = useState({\r\n        location: '',\r\n        lat: 12.9692,\r\n        lng: 79.1559,\r\n        severity: 'MODERATE' as 'HIGH' | 'MODERATE' | 'LOW',\r\n        type: 'crime_hotspot',\r\n        description: '',\r\n        radius: 200,\r\n        active_hours: ''\r\n    });\r\n\r\n    const [errors, setErrors] = useState<Record<string, string>>({});\r\n    const [isSaving, setIsSaving] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (editingZone) {\r\n            setFormData({\r\n                location: editingZone.location,\r\n                lat: editingZone.lat,\r\n                lng: editingZone.lng,\r\n                severity: editingZone.severity,\r\n                type: editingZone.type,\r\n                description: editingZone.description,\r\n                radius: editingZone.radius || 200,\r\n                active_hours: editingZone.active_hours || ''\r\n            });\r\n        } else {\r\n            // Reset form for new zone\r\n            setFormData({\r\n                location: '',\r\n                lat: 12.9692,\r\n                lng: 79.1559,\r\n                severity: 'MODERATE',\r\n                type: 'crime_hotspot',\r\n                description: '',\r\n                radius: 200,\r\n                active_hours: ''\r\n            });\r\n        }\r\n        setErrors({});\r\n    }, [editingZone, isOpen]);\r\n\r\n    const validateForm = () => {\r\n        const newErrors: Record<string, string> = {};\r\n\r\n        if (!formData.location.trim()) {\r\n            newErrors.location = 'Location name is required';\r\n        }\r\n\r\n        if (formData.lat < -90 || formData.lat > 90) {\r\n            newErrors.lat = 'Latitude must be between -90 and 90';\r\n        }\r\n\r\n        if (formData.lng < -180 || formData.lng > 180) {\r\n            newErrors.lng = 'Longitude must be between -180 and 180';\r\n        }\r\n\r\n        if (formData.radius < 50 || formData.radius > 1000) {\r\n            newErrors.radius = 'Radius must be between 50m and 1000m';\r\n        }\r\n\r\n        if (!formData.description.trim()) {\r\n            newErrors.description = 'Description is required';\r\n        }\r\n\r\n        setErrors(newErrors);\r\n        return Object.keys(newErrors).length === 0;\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n\r\n        if (!validateForm()) {\r\n            return;\r\n        }\r\n\r\n        setIsSaving(true);\r\n\r\n        // Simulate API call\r\n        setTimeout(() => {\r\n            const zoneData: Partial<Zone> = {\r\n                ...formData,\r\n                id: editingZone?.id || Date.now()\r\n            };\r\n\r\n            onSave(zoneData);\r\n            setIsSaving(false);\r\n            onClose();\r\n        }, 500);\r\n    };\r\n\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n            {/* Backdrop */}\r\n            <div\r\n                className=\"absolute inset-0 bg-black/60 backdrop-blur-sm\"\r\n                onClick={onClose}\r\n            />\r\n\r\n            {/* Modal */}\r\n            <div className=\"relative w-full max-w-2xl bg-[#18181b] border border-white/10 rounded-xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200\">\r\n\r\n                {/* Header */}\r\n                <div className=\"flex items-center justify-between p-6 border-b border-white/10\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <div className=\"w-10 h-10 rounded-lg bg-purple-500/10 flex items-center justify-center border border-purple-500/20\">\r\n                            <MapPin className=\"w-5 h-5 text-purple-400\" />\r\n                        </div>\r\n                        <div>\r\n                            <h2 className=\"text-xl font-bold text-zinc-100\">\r\n                                {mode === 'add' ? 'Add New Zone' : 'Edit Zone'}\r\n                            </h2>\r\n                            <p className=\"text-xs text-zinc-500\">\r\n                                {mode === 'add' ? 'Create a new risk zone' : 'Update zone information'}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"p-2 text-zinc-500 hover:text-white hover:bg-white/5 rounded-lg transition-colors\"\r\n                    >\r\n                        <X className=\"w-5 h-5\" />\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Form */}\r\n                <form onSubmit={handleSubmit} className=\"p-6 space-y-5 max-h-[70vh] overflow-y-auto\">\r\n\r\n                    {/* Location Name */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-zinc-300 mb-2\">\r\n                            Location Name *\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={formData.location}\r\n                            onChange={(e) => setFormData({ ...formData, location: e.target.value })}\r\n                            className=\"w-full px-4 py-2.5 bg-[#09090b] border border-white/10 rounded-lg text-zinc-100 placeholder:text-zinc-600 focus:border-purple-500/50 focus:outline-none focus:ring-2 focus:ring-purple-500/20 transition-all\"\r\n                            placeholder=\"e.g., TASMAC Katpadi\"\r\n                        />\r\n                        {errors.location && (\r\n                            <p className=\"text-xs text-red-400 mt-1 flex items-center gap-1\">\r\n                                <AlertTriangle className=\"w-3 h-3\" />\r\n                                {errors.location}\r\n                            </p>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Coordinates */}\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-zinc-300 mb-2\">\r\n                                Latitude *\r\n                            </label>\r\n                            <input\r\n                                type=\"number\"\r\n                                step=\"0.0001\"\r\n                                value={formData.lat}\r\n                                onChange={(e) => setFormData({ ...formData, lat: parseFloat(e.target.value) })}\r\n                                className=\"w-full px-4 py-2.5 bg-[#09090b] border border-white/10 rounded-lg text-zinc-100 focus:border-purple-500/50 focus:outline-none focus:ring-2 focus:ring-purple-500/20 transition-all\"\r\n                            />\r\n                            {errors.lat && (\r\n                                <p className=\"text-xs text-red-400 mt-1\">{errors.lat}</p>\r\n                            )}\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-zinc-300 mb-2\">\r\n                                Longitude *\r\n                            </label>\r\n                            <input\r\n                                type=\"number\"\r\n                                step=\"0.0001\"\r\n                                value={formData.lng}\r\n                                onChange={(e) => setFormData({ ...formData, lng: parseFloat(e.target.value) })}\r\n                                className=\"w-full px-4 py-2.5 bg-[#09090b] border border-white/10 rounded-lg text-zinc-100 focus:border-purple-500/50 focus:outline-none focus:ring-2 focus:ring-purple-500/20 transition-all\"\r\n                            />\r\n                            {errors.lng && (\r\n                                <p className=\"text-xs text-red-400 mt-1\">{errors.lng}</p>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Severity & Radius */}\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-zinc-300 mb-2\">\r\n                                Risk Level *\r\n                            </label>\r\n                            <select\r\n                                value={formData.severity}\r\n                                onChange={(e) => setFormData({ ...formData, severity: e.target.value as any })}\r\n                                className=\"w-full px-4 py-2.5 bg-[#09090b] border border-white/10 rounded-lg text-zinc-100 focus:border-purple-500/50 focus:outline-none focus:ring-2 focus:ring-purple-500/20 transition-all\"\r\n                            >\r\n                                <option value=\"HIGH\">High Risk (Red)</option>\r\n                                <option value=\"MODERATE\">Moderate Risk (Yellow)</option>\r\n                                <option value=\"LOW\">Low Risk (Green)</option>\r\n                            </select>\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-zinc-300 mb-2\">\r\n                                Radius (meters) *\r\n                            </label>\r\n                            <input\r\n                                type=\"number\"\r\n                                min=\"50\"\r\n                                max=\"1000\"\r\n                                step=\"10\"\r\n                                value={formData.radius}\r\n                                onChange={(e) => setFormData({ ...formData, radius: parseInt(e.target.value) })}\r\n                                className=\"w-full px-4 py-2.5 bg-[#09090b] border border-white/10 rounded-lg text-zinc-100 focus:border-purple-500/50 focus:outline-none focus:ring-2 focus:ring-purple-500/20 transition-all\"\r\n                            />\r\n                            {errors.radius && (\r\n                                <p className=\"text-xs text-red-400 mt-1\">{errors.radius}</p>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Zone Type */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-zinc-300 mb-2\">\r\n                            Zone Type\r\n                        </label>\r\n                        <select\r\n                            value={formData.type}\r\n                            onChange={(e) => setFormData({ ...formData, type: e.target.value })}\r\n                            className=\"w-full px-4 py-2.5 bg-[#09090b] border border-white/10 rounded-lg text-zinc-100 focus:border-purple-500/50 focus:outline-none focus:ring-2 focus:ring-purple-500/20 transition-all\"\r\n                        >\r\n                            <option value=\"crime_hotspot\">Crime Hotspot</option>\r\n                            <option value=\"moderate_risk\">Moderate Risk</option>\r\n                            <option value=\"low_risk\">Low Risk</option>\r\n                            <option value=\"dark_area\">Dark Area (Poor Lighting)</option>\r\n                            <option value=\"isolated\">Isolated Area</option>\r\n                            <option value=\"custom\">Custom</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    {/* Active Hours */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-zinc-300 mb-2 flex items-center gap-2\">\r\n                            <Clock className=\"w-4 h-4\" />\r\n                            Active Hours (Optional)\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={formData.active_hours}\r\n                            onChange={(e) => setFormData({ ...formData, active_hours: e.target.value })}\r\n                            className=\"w-full px-4 py-2.5 bg-[#09090b] border border-white/10 rounded-lg text-zinc-100 placeholder:text-zinc-600 focus:border-purple-500/50 focus:outline-none focus:ring-2 focus:ring-purple-500/20 transition-all\"\r\n                            placeholder=\"e.g., 10:00 PM - 6:00 AM\"\r\n                        />\r\n                        <p className=\"text-xs text-zinc-500 mt-1\">\r\n                            Leave empty if zone is active 24/7\r\n                        </p>\r\n                    </div>\r\n\r\n                    {/* Description */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-zinc-300 mb-2\">\r\n                            Description *\r\n                        </label>\r\n                        <textarea\r\n                            value={formData.description}\r\n                            onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                            rows={3}\r\n                            className=\"w-full px-4 py-2.5 bg-[#09090b] border border-white/10 rounded-lg text-zinc-100 placeholder:text-zinc-600 focus:border-purple-500/50 focus:outline-none focus:ring-2 focus:ring-purple-500/20 transition-all resize-none\"\r\n                            placeholder=\"Describe the risk factors and characteristics of this zone...\"\r\n                        />\r\n                        {errors.description && (\r\n                            <p className=\"text-xs text-red-400 mt-1 flex items-center gap-1\">\r\n                                <AlertTriangle className=\"w-3 h-3\" />\r\n                                {errors.description}\r\n                            </p>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Preview */}\r\n                    <div className=\"bg-purple-500/5 border border-purple-500/20 rounded-lg p-4\">\r\n                        <p className=\"text-xs text-purple-400 font-medium mb-2\">Preview</p>\r\n                        <div className=\"space-y-1 text-xs text-zinc-400\">\r\n                            <p><span className=\"text-zinc-500\">Location:</span> {formData.location || 'Not set'}</p>\r\n                            <p><span className=\"text-zinc-500\">Coordinates:</span> {formData.lat.toFixed(4)}, {formData.lng.toFixed(4)}</p>\r\n                            <p><span className=\"text-zinc-500\">Risk:</span> <span className={\r\n                                formData.severity === 'HIGH' ? 'text-red-400' :\r\n                                    formData.severity === 'MODERATE' ? 'text-yellow-400' :\r\n                                        'text-emerald-400'\r\n                            }>{formData.severity}</span></p>\r\n                            <p><span className=\"text-zinc-500\">Coverage:</span> {formData.radius}m radius</p>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n\r\n                {/* Footer */}\r\n                <div className=\"flex items-center justify-end gap-3 p-6 border-t border-white/10 bg-[#09090b]\">\r\n                    <Button\r\n                        type=\"button\"\r\n                        onClick={onClose}\r\n                        variant=\"ghost\"\r\n                        className=\"text-zinc-400 hover:text-white\"\r\n                    >\r\n                        Cancel\r\n                    </Button>\r\n                    <Button\r\n                        onClick={handleSubmit}\r\n                        disabled={isSaving}\r\n                        className=\"bg-purple-500 hover:bg-purple-600 text-white\"\r\n                    >\r\n                        {isSaving ? (\r\n                            <>\r\n                                <div className=\"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2\" />\r\n                                Saving...\r\n                            </>\r\n                        ) : (\r\n                            <>\r\n                                <Save className=\"w-4 h-4 mr-2\" />\r\n                                {mode === 'add' ? 'Create Zone' : 'Update Zone'}\r\n                            </>\r\n                        )}\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1340, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nkk77/Desktop/SENTRA/WSF/web-dashboard/src/components/DeleteZoneModal.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { AlertTriangle, Trash2, X } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Zone } from '../hooks/useZones';\r\n\r\ninterface DeleteZoneModalProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    onConfirm: () => void;\r\n    zone: Zone | null;\r\n}\r\n\r\nexport const DeleteZoneModal: React.FC<DeleteZoneModalProps> = ({\r\n    isOpen,\r\n    onClose,\r\n    onConfirm,\r\n    zone\r\n}) => {\r\n    const [isDeleting, setIsDeleting] = useState(false);\r\n\r\n    const handleDelete = async () => {\r\n        setIsDeleting(true);\r\n\r\n        // Simulate API call\r\n        setTimeout(() => {\r\n            onConfirm();\r\n            setIsDeleting(false);\r\n            onClose();\r\n        }, 500);\r\n    };\r\n\r\n    if (!isOpen || !zone) return null;\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n            {/* Backdrop */}\r\n            <div\r\n                className=\"absolute inset-0 bg-black/60 backdrop-blur-sm\"\r\n                onClick={onClose}\r\n            />\r\n\r\n            {/* Modal */}\r\n            <div className=\"relative w-full max-w-md bg-[#18181b] border border-red-500/20 rounded-xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200\">\r\n\r\n                {/* Header */}\r\n                <div className=\"flex items-center justify-between p-6 border-b border-white/10 bg-red-500/5\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <div className=\"w-10 h-10 rounded-lg bg-red-500/10 flex items-center justify-center border border-red-500/20\">\r\n                            <AlertTriangle className=\"w-5 h-5 text-red-400\" />\r\n                        </div>\r\n                        <div>\r\n                            <h2 className=\"text-lg font-bold text-zinc-100\">Delete Zone</h2>\r\n                            <p className=\"text-xs text-zinc-500\">This action cannot be undone</p>\r\n                        </div>\r\n                    </div>\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"p-2 text-zinc-500 hover:text-white hover:bg-white/5 rounded-lg transition-colors\"\r\n                    >\r\n                        <X className=\"w-5 h-5\" />\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Content */}\r\n                <div className=\"p-6 space-y-4\">\r\n                    <p className=\"text-sm text-zinc-300\">\r\n                        Are you sure you want to delete the zone <span className=\"font-bold text-white\">\"{zone.location}\"</span>?\r\n                    </p>\r\n\r\n                    <div className=\"bg-red-500/10 border border-red-500/20 rounded-lg p-4 space-y-2\">\r\n                        <div className=\"flex items-start gap-2\">\r\n                            <AlertTriangle className=\"w-4 h-4 text-red-400 mt-0.5 flex-shrink-0\" />\r\n                            <div className=\"text-xs text-red-300 space-y-1\">\r\n                                <p className=\"font-medium\">This will permanently remove:</p>\r\n                                <ul className=\"list-disc list-inside space-y-0.5 text-red-400/80\">\r\n                                    <li>Zone boundary and coverage area</li>\r\n                                    <li>Associated risk level data</li>\r\n                                    <li>Historical incident references</li>\r\n                                    <li>User location alerts for this zone</li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Zone Info */}\r\n                    <div className=\"bg-[#09090b] border border-white/5 rounded-lg p-3 space-y-1 text-xs\">\r\n                        <div className=\"flex justify-between\">\r\n                            <span className=\"text-zinc-500\">Location:</span>\r\n                            <span className=\"text-zinc-300 font-medium\">{zone.location}</span>\r\n                        </div>\r\n                        <div className=\"flex justify-between\">\r\n                            <span className=\"text-zinc-500\">Risk Level:</span>\r\n                            <span className={`font-medium ${zone.severity === 'HIGH' ? 'text-red-400' :\r\n                                    zone.severity === 'MODERATE' ? 'text-yellow-400' :\r\n                                        'text-emerald-400'\r\n                                }`}>\r\n                                {zone.severity}\r\n                            </span>\r\n                        </div>\r\n                        <div className=\"flex justify-between\">\r\n                            <span className=\"text-zinc-500\">Radius:</span>\r\n                            <span className=\"text-zinc-300\">{zone.radius || 200}m</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Footer */}\r\n                <div className=\"flex items-center justify-end gap-3 p-6 border-t border-white/10 bg-[#09090b]\">\r\n                    <Button\r\n                        type=\"button\"\r\n                        onClick={onClose}\r\n                        variant=\"ghost\"\r\n                        className=\"text-zinc-400 hover:text-white\"\r\n                        disabled={isDeleting}\r\n                    >\r\n                        Cancel\r\n                    </Button>\r\n                    <Button\r\n                        onClick={handleDelete}\r\n                        disabled={isDeleting}\r\n                        className=\"bg-red-500 hover:bg-red-600 text-white\"\r\n                    >\r\n                        {isDeleting ? (\r\n                            <>\r\n                                <div className=\"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2\" />\r\n                                Deleting...\r\n                            </>\r\n                        ) : (\r\n                            <>\r\n                                <Trash2 className=\"w-4 h-4 mr-2\" />\r\n                                Delete Zone\r\n                            </>\r\n                        )}\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AAAA;AACA;;;;;;AAUO,MAAM,kBAAkD,CAAC,EAC5D,MAAM,EACN,OAAO,EACP,SAAS,EACT,IAAI,EACP;;IACG,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAE7C,MAAM,eAAe;QACjB,cAAc;QAEd,oBAAoB;QACpB,WAAW;YACP;YACA,cAAc;YACd;QACJ,GAAG;IACP;IAEA,IAAI,CAAC,UAAU,CAAC,MAAM,OAAO;IAE7B,qBACI,6LAAC;QAAI,WAAU;;0BAEX,6LAAC;gBACG,WAAU;gBACV,SAAS;;;;;;0BAIb,6LAAC;gBAAI,WAAU;;kCAGX,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAI,WAAU;kDACX,cAAA,6LAAC,4OAAa;4CAAC,WAAU;;;;;;;;;;;kDAE7B,6LAAC;;0DACG,6LAAC;gDAAG,WAAU;0DAAkC;;;;;;0DAChD,6LAAC;gDAAE,WAAU;0DAAwB;;;;;;;;;;;;;;;;;;0CAG7C,6LAAC;gCACG,SAAS;gCACT,WAAU;0CAEV,cAAA,6LAAC,oMAAC;oCAAC,WAAU;;;;;;;;;;;;;;;;;kCAKrB,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAE,WAAU;;oCAAwB;kDACQ,6LAAC;wCAAK,WAAU;;4CAAuB;4CAAE,KAAK,QAAQ;4CAAC;;;;;;;oCAAQ;;;;;;;0CAG5G,6LAAC;gCAAI,WAAU;0CACX,cAAA,6LAAC;oCAAI,WAAU;;sDACX,6LAAC,4OAAa;4CAAC,WAAU;;;;;;sDACzB,6LAAC;4CAAI,WAAU;;8DACX,6LAAC;oDAAE,WAAU;8DAAc;;;;;;8DAC3B,6LAAC;oDAAG,WAAU;;sEACV,6LAAC;sEAAG;;;;;;sEACJ,6LAAC;sEAAG;;;;;;sEACJ,6LAAC;sEAAG;;;;;;sEACJ,6LAAC;sEAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0CAOpB,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAK,WAAU;0DAAgB;;;;;;0DAChC,6LAAC;gDAAK,WAAU;0DAA6B,KAAK,QAAQ;;;;;;;;;;;;kDAE9D,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAK,WAAU;0DAAgB;;;;;;0DAChC,6LAAC;gDAAK,WAAW,CAAC,YAAY,EAAE,KAAK,QAAQ,KAAK,SAAS,iBACnD,KAAK,QAAQ,KAAK,aAAa,oBAC3B,oBACN;0DACD,KAAK,QAAQ;;;;;;;;;;;;kDAGtB,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAK,WAAU;0DAAgB;;;;;;0DAChC,6LAAC;gDAAK,WAAU;;oDAAiB,KAAK,MAAM,IAAI;oDAAI;;;;;;;;;;;;;;;;;;;;;;;;;kCAMhE,6LAAC;wBAAI,WAAU;;0CACX,6LAAC,+IAAM;gCACH,MAAK;gCACL,SAAS;gCACT,SAAQ;gCACR,WAAU;gCACV,UAAU;0CACb;;;;;;0CAGD,6LAAC,+IAAM;gCACH,SAAS;gCACT,UAAU;gCACV,WAAU;0CAET,2BACG;;sDACI,6LAAC;4CAAI,WAAU;;;;;;wCAAmF;;iEAItG;;sDACI,6LAAC,uNAAM;4CAAC,WAAU;;;;;;wCAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;AASnE;GA9Ha;KAAA"}},
    {"offset": {"line": 1726, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nkk77/Desktop/SENTRA/WSF/web-dashboard/src/components/ZoneManagement.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { MapPin, Plus, Edit2, Trash2, AlertTriangle, Clock, MapPinned, Search, Filter } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Zone } from '../hooks/useZones';\r\nimport { MapView } from './MapView';\r\nimport { ZoneFormModal } from './ZoneFormModal';\r\nimport { DeleteZoneModal } from './DeleteZoneModal';\r\n\r\ninterface ZoneManagementProps {\r\n    zones: Zone[];\r\n    onAddZone?: () => void;\r\n    onEditZone?: (zoneId: number) => void;\r\n    onDeleteZone?: (zoneId: number) => void;\r\n}\r\n\r\nexport const ZoneManagement: React.FC<ZoneManagementProps> = ({\r\n    zones,\r\n    onAddZone,\r\n    onEditZone,\r\n    onDeleteZone\r\n}) => {\r\n    const [selectedZone, setSelectedZone] = useState<Zone | null>(null);\r\n    const [viewMode, setViewMode] = useState<'list' | 'map'>('map');\r\n\r\n    // Modal states\r\n    const [isFormModalOpen, setIsFormModalOpen] = useState(false);\r\n    const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\r\n    const [editingZone, setEditingZone] = useState<Zone | null>(null);\r\n    const [formMode, setFormMode] = useState<'add' | 'edit'>('add');\r\n    const [zoneToDelete, setZoneToDelete] = useState<Zone | null>(null);\r\n\r\n    // Search and filter\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [severityFilter, setSeverityFilter] = useState<'ALL' | 'HIGH' | 'MODERATE' | 'LOW'>('ALL');\r\n\r\n    // Filter zones based on search and severity\r\n    const filteredZones = zones.filter(zone => {\r\n        const matchesSearch = zone.location.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n            zone.description.toLowerCase().includes(searchQuery.toLowerCase());\r\n        const matchesSeverity = severityFilter === 'ALL' || zone.severity === severityFilter;\r\n        return matchesSearch && matchesSeverity;\r\n    });\r\n\r\n    const redZones = filteredZones.filter(z => z.severity === 'HIGH');\r\n    const yellowZones = filteredZones.filter(z => z.severity === 'MODERATE');\r\n    const lowZones = filteredZones.filter(z => z.severity === 'LOW');\r\n\r\n    // Handlers\r\n    const handleAddZone = () => {\r\n        setFormMode('add');\r\n        setEditingZone(null);\r\n        setIsFormModalOpen(true);\r\n    };\r\n\r\n    const handleEditZone = (zone: Zone) => {\r\n        setFormMode('edit');\r\n        setEditingZone(zone);\r\n        setIsFormModalOpen(true);\r\n    };\r\n\r\n    const handleDeleteZone = (zone: Zone) => {\r\n        setZoneToDelete(zone);\r\n        setIsDeleteModalOpen(true);\r\n    };\r\n\r\n    const handleSaveZone = (zoneData: Partial<Zone>) => {\r\n        console.log('Saving zone:', zoneData);\r\n        // TODO: Implement actual save logic (API call)\r\n        setIsFormModalOpen(false);\r\n    };\r\n\r\n    const handleConfirmDelete = () => {\r\n        if (zoneToDelete) {\r\n            console.log('Deleting zone:', zoneToDelete.id);\r\n            // TODO: Implement actual delete logic (API call)\r\n            onDeleteZone?.(zoneToDelete.id);\r\n        }\r\n        setIsDeleteModalOpen(false);\r\n        setZoneToDelete(null);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"flex h-full w-full\">\r\n                {/* LEFT PANEL - Zone List */}\r\n                <div className=\"w-96 flex-none bg-[#18181b]/95 border-r border-white/10 flex flex-col overflow-hidden\">\r\n\r\n                    {/* Header */}\r\n                    <div className=\"p-5 border-b border-white/5\">\r\n                        <div className=\"flex items-center justify-between mb-4\">\r\n                            <h2 className=\"text-lg font-bold text-zinc-100 flex items-center gap-2\">\r\n                                <MapPinned className=\"w-5 h-5 text-purple-400\" />\r\n                                Zone Management\r\n                            </h2>\r\n                            <Button\r\n                                onClick={handleAddZone}\r\n                                size=\"sm\"\r\n                                className=\"bg-purple-500/10 hover:bg-purple-500/20 text-purple-400 border border-purple-500/20\"\r\n                            >\r\n                                <Plus className=\"w-4 h-4 mr-1\" />\r\n                                Add Zone\r\n                            </Button>\r\n                        </div>\r\n\r\n                        {/* Stats Summary */}\r\n                        <div className=\"grid grid-cols-3 gap-2 mb-4\">\r\n                            <div className=\"bg-red-500/10 border border-red-500/30 rounded-lg p-3 text-center\">\r\n                                <div className=\"text-2xl font-bold text-red-400\">{zones.filter(z => z.severity === 'HIGH').length}</div>\r\n                                <div className=\"text-[10px] text-zinc-500 uppercase tracking-wide mt-1\">Red Zones</div>\r\n                            </div>\r\n                            <div className=\"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3 text-center\">\r\n                                <div className=\"text-2xl font-bold text-yellow-400\">{zones.filter(z => z.severity === 'MODERATE').length}</div>\r\n                                <div className=\"text-[10px] text-zinc-500 uppercase tracking-wide mt-1\">Yellow</div>\r\n                            </div>\r\n                            <div className=\"bg-emerald-500/10 border border-emerald-500/30 rounded-lg p-3 text-center\">\r\n                                <div className=\"text-2xl font-bold text-emerald-400\">{zones.filter(z => z.severity === 'LOW').length}</div>\r\n                                <div className=\"text-[10px] text-zinc-500 uppercase tracking-wide mt-1\">Low Risk</div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Search Bar */}\r\n                        <div className=\"relative mb-3\">\r\n                            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500\" />\r\n                            <input\r\n                                type=\"text\"\r\n                                value={searchQuery}\r\n                                onChange={(e) => setSearchQuery(e.target.value)}\r\n                                placeholder=\"Search zones...\"\r\n                                className=\"w-full pl-10 pr-4 py-2 bg-[#09090b] border border-white/10 rounded-lg text-sm text-zinc-100 placeholder:text-zinc-600 focus:border-purple-500/50 focus:outline-none focus:ring-2 focus:ring-purple-500/20 transition-all\"\r\n                            />\r\n                        </div>\r\n\r\n                        {/* Severity Filter */}\r\n                        <div className=\"flex gap-1\">\r\n                            {(['ALL', 'HIGH', 'MODERATE', 'LOW'] as const).map((severity) => (\r\n                                <button\r\n                                    key={severity}\r\n                                    onClick={() => setSeverityFilter(severity)}\r\n                                    className={`flex-1 py-1.5 px-2 rounded text-[10px] font-medium uppercase tracking-wide transition-all ${severityFilter === severity\r\n                                            ? severity === 'HIGH' ? 'bg-red-500/20 text-red-400 border border-red-500/30'\r\n                                                : severity === 'MODERATE' ? 'bg-yellow-500/20 text-yellow-400 border border-yellow-500/30'\r\n                                                    : severity === 'LOW' ? 'bg-emerald-500/20 text-emerald-400 border border-emerald-500/30'\r\n                                                        : 'bg-purple-500/20 text-purple-400 border border-purple-500/30'\r\n                                            : 'bg-white/5 text-zinc-500 hover:text-zinc-300 border border-transparent'\r\n                                        }`}\r\n                                >\r\n                                    {severity === 'ALL' ? 'All' : severity.slice(0, 3)}\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n\r\n                        {/* View Toggle */}\r\n                        <div className=\"flex gap-2 mt-3\">\r\n                            <button\r\n                                onClick={() => setViewMode('map')}\r\n                                className={`flex-1 py-2 px-3 rounded-lg text-xs font-medium transition-all ${viewMode === 'map'\r\n                                        ? 'bg-purple-500/20 text-purple-400 border border-purple-500/30'\r\n                                        : 'bg-white/5 text-zinc-500 hover:text-zinc-300'\r\n                                    }`}\r\n                            >\r\n                                Map View\r\n                            </button>\r\n                            <button\r\n                                onClick={() => setViewMode('list')}\r\n                                className={`flex-1 py-2 px-3 rounded-lg text-xs font-medium transition-all ${viewMode === 'list'\r\n                                        ? 'bg-purple-500/20 text-purple-400 border border-purple-500/30'\r\n                                        : 'bg-white/5 text-zinc-500 hover:text-zinc-300'\r\n                                    }`}\r\n                            >\r\n                                List View\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Zone List */}\r\n                    <div className=\"flex-1 overflow-y-auto p-4 space-y-3\">\r\n                        {/* RED ZONES */}\r\n                        {redZones.length > 0 && (\r\n                            <div>\r\n                                <div className=\"text-[10px] uppercase font-bold text-red-400 mb-2 tracking-widest px-1 flex items-center gap-2\">\r\n                                    <AlertTriangle className=\"w-3 h-3\" />\r\n                                    High Risk Zones ({redZones.length})\r\n                                </div>\r\n                                {redZones.map(zone => (\r\n                                    <ZoneCard\r\n                                        key={zone.id}\r\n                                        zone={zone}\r\n                                        isSelected={selectedZone?.id === zone.id}\r\n                                        onSelect={() => setSelectedZone(zone)}\r\n                                        onEdit={() => handleEditZone(zone)}\r\n                                        onDelete={() => handleDeleteZone(zone)}\r\n                                    />\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* YELLOW ZONES */}\r\n                        {yellowZones.length > 0 && (\r\n                            <div className={redZones.length > 0 ? 'mt-4' : ''}>\r\n                                <div className=\"text-[10px] uppercase font-bold text-yellow-400 mb-2 tracking-widest px-1 flex items-center gap-2\">\r\n                                    <AlertTriangle className=\"w-3 h-3\" />\r\n                                    Moderate Risk Zones ({yellowZones.length})\r\n                                </div>\r\n                                {yellowZones.map(zone => (\r\n                                    <ZoneCard\r\n                                        key={zone.id}\r\n                                        zone={zone}\r\n                                        isSelected={selectedZone?.id === zone.id}\r\n                                        onSelect={() => setSelectedZone(zone)}\r\n                                        onEdit={() => handleEditZone(zone)}\r\n                                        onDelete={() => handleDeleteZone(zone)}\r\n                                    />\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* LOW ZONES */}\r\n                        {lowZones.length > 0 && (\r\n                            <div className={(redZones.length > 0 || yellowZones.length > 0) ? 'mt-4' : ''}>\r\n                                <div className=\"text-[10px] uppercase font-bold text-emerald-400 mb-2 tracking-widest px-1 flex items-center gap-2\">\r\n                                    <MapPin className=\"w-3 h-3\" />\r\n                                    Low Risk Zones ({lowZones.length})\r\n                                </div>\r\n                                {lowZones.map(zone => (\r\n                                    <ZoneCard\r\n                                        key={zone.id}\r\n                                        zone={zone}\r\n                                        isSelected={selectedZone?.id === zone.id}\r\n                                        onSelect={() => setSelectedZone(zone)}\r\n                                        onEdit={() => handleEditZone(zone)}\r\n                                        onDelete={() => handleDeleteZone(zone)}\r\n                                    />\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Empty State */}\r\n                        {filteredZones.length === 0 && zones.length > 0 && (\r\n                            <div className=\"text-center py-12\">\r\n                                <Filter className=\"w-12 h-12 text-zinc-700 mx-auto mb-3\" />\r\n                                <p className=\"text-sm text-zinc-500\">No zones match your filters</p>\r\n                                <Button\r\n                                    onClick={() => { setSearchQuery(''); setSeverityFilter('ALL'); }}\r\n                                    size=\"sm\"\r\n                                    className=\"mt-4 bg-white/5 hover:bg-white/10 text-zinc-400\"\r\n                                >\r\n                                    Clear Filters\r\n                                </Button>\r\n                            </div>\r\n                        )}\r\n\r\n                        {zones.length === 0 && (\r\n                            <div className=\"text-center py-12\">\r\n                                <MapPin className=\"w-12 h-12 text-zinc-700 mx-auto mb-3\" />\r\n                                <p className=\"text-sm text-zinc-500\">No zones configured</p>\r\n                                <Button\r\n                                    onClick={handleAddZone}\r\n                                    size=\"sm\"\r\n                                    className=\"mt-4 bg-purple-500/10 hover:bg-purple-500/20 text-purple-400 border border-purple-500/20\"\r\n                                >\r\n                                    <Plus className=\"w-4 h-4 mr-1\" />\r\n                                    Create First Zone\r\n                                </Button>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* RIGHT PANEL - Map or Details */}\r\n                <div className=\"flex-1 relative\">\r\n                    {viewMode === 'map' ? (\r\n                        <MapView\r\n                            zones={filteredZones}\r\n                            locations={[]}\r\n                            incidents={[]}\r\n                            selectedIncidentId={null}\r\n                            onSelectIncident={() => { }}\r\n                            loading={false}\r\n                            supabaseEnabled={false}\r\n                            mapStyle=\"mapbox://styles/mapbox/dark-v11\"\r\n                        />\r\n                    ) : (\r\n                        <div className=\"h-full flex items-center justify-center bg-[#09090b]\">\r\n                            <div className=\"text-center\">\r\n                                <MapPin className=\"w-16 h-16 text-purple-400 mx-auto mb-4\" />\r\n                                <h3 className=\"text-xl font-bold text-zinc-100 mb-2\">Detailed List View</h3>\r\n                                <p className=\"text-zinc-500 text-sm\">Coming soon...</p>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Selected Zone Details Overlay */}\r\n                    {selectedZone && viewMode === 'map' && (\r\n                        <div className=\"absolute bottom-6 right-6 w-80 bg-[#18181b]/95 border border-white/10 rounded-lg p-4 backdrop-blur-xl shadow-2xl animate-in fade-in slide-in-from-bottom-4 duration-200\">\r\n                            <div className=\"flex items-start justify-between mb-3\">\r\n                                <div>\r\n                                    <h3 className=\"font-bold text-zinc-100\">{selectedZone.location}</h3>\r\n                                    <div className={`inline-flex items-center gap-1 mt-1 px-2 py-0.5 rounded-full text-[10px] font-bold uppercase ${selectedZone.severity === 'HIGH'\r\n                                            ? 'bg-red-500/20 text-red-400 border border-red-500/30'\r\n                                            : selectedZone.severity === 'MODERATE'\r\n                                                ? 'bg-yellow-500/20 text-yellow-400 border border-yellow-500/30'\r\n                                                : 'bg-emerald-500/20 text-emerald-400 border border-emerald-500/30'\r\n                                        }`}>\r\n                                        {selectedZone.severity}\r\n                                    </div>\r\n                                </div>\r\n                                <button\r\n                                    onClick={() => setSelectedZone(null)}\r\n                                    className=\"text-zinc-500 hover:text-white transition-colors text-xl leading-none\"\r\n                                >\r\n                                    Ã—\r\n                                </button>\r\n                            </div>\r\n\r\n                            <div className=\"space-y-2 text-xs\">\r\n                                <div className=\"flex items-center gap-2 text-zinc-400\">\r\n                                    <MapPin className=\"w-3 h-3\" />\r\n                                    <span>{selectedZone.lat.toFixed(4)}, {selectedZone.lng.toFixed(4)}</span>\r\n                                </div>\r\n                                <div className=\"flex items-center gap-2 text-zinc-400\">\r\n                                    <MapPinned className=\"w-3 h-3\" />\r\n                                    <span>Radius: {selectedZone.radius || 200}m</span>\r\n                                </div>\r\n                                {selectedZone.active_hours && (\r\n                                    <div className=\"flex items-center gap-2 text-zinc-400\">\r\n                                        <Clock className=\"w-3 h-3\" />\r\n                                        <span>{selectedZone.active_hours}</span>\r\n                                    </div>\r\n                                )}\r\n                                <div className=\"pt-2 border-t border-white/5\">\r\n                                    <p className=\"text-zinc-500\">{selectedZone.description}</p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"flex gap-2 mt-4\">\r\n                                <Button\r\n                                    onClick={() => handleEditZone(selectedZone)}\r\n                                    size=\"sm\"\r\n                                    className=\"flex-1 bg-blue-500/10 hover:bg-blue-500/20 text-blue-400 border border-blue-500/20\"\r\n                                >\r\n                                    <Edit2 className=\"w-3 h-3 mr-1\" />\r\n                                    Edit\r\n                                </Button>\r\n                                <Button\r\n                                    onClick={() => handleDeleteZone(selectedZone)}\r\n                                    size=\"sm\"\r\n                                    className=\"flex-1 bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20\"\r\n                                >\r\n                                    <Trash2 className=\"w-3 h-3 mr-1\" />\r\n                                    Delete\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Modals */}\r\n            <ZoneFormModal\r\n                isOpen={isFormModalOpen}\r\n                onClose={() => setIsFormModalOpen(false)}\r\n                onSave={handleSaveZone}\r\n                editingZone={editingZone}\r\n                mode={formMode}\r\n            />\r\n\r\n            <DeleteZoneModal\r\n                isOpen={isDeleteModalOpen}\r\n                onClose={() => setIsDeleteModalOpen(false)}\r\n                onConfirm={handleConfirmDelete}\r\n                zone={zoneToDelete}\r\n            />\r\n        </>\r\n    );\r\n};\r\n\r\n// Zone Card Component\r\ninterface ZoneCardProps {\r\n    zone: Zone;\r\n    isSelected: boolean;\r\n    onSelect: () => void;\r\n    onEdit: () => void;\r\n    onDelete: () => void;\r\n}\r\n\r\nconst ZoneCard: React.FC<ZoneCardProps> = ({ zone, isSelected, onSelect, onEdit, onDelete }) => {\r\n    const severityColor =\r\n        zone.severity === 'HIGH' ? 'red' :\r\n            zone.severity === 'MODERATE' ? 'yellow' :\r\n                'emerald';\r\n\r\n    return (\r\n        <div\r\n            onClick={onSelect}\r\n            className={`rounded-lg border p-3 mb-2 cursor-pointer transition-all ${isSelected\r\n                    ? `border-${severityColor}-500/50 bg-${severityColor}-500/10`\r\n                    : `border-${severityColor}-500/20 bg-${severityColor}-500/5 hover:bg-${severityColor}-500/10`\r\n                }`}\r\n        >\r\n            <div className=\"flex items-start justify-between mb-2\">\r\n                <div className=\"flex-1\">\r\n                    <h4 className=\"font-semibold text-sm text-zinc-100\">{zone.location}</h4>\r\n                    <p className=\"text-[10px] text-zinc-500 mt-0.5\">{zone.type.replace('_', ' ')}</p>\r\n                </div>\r\n                <div className=\"flex gap-1\">\r\n                    <button\r\n                        onClick={(e) => { e.stopPropagation(); onEdit(); }}\r\n                        className=\"p-1 text-zinc-500 hover:text-blue-400 transition-colors\"\r\n                    >\r\n                        <Edit2 className=\"w-3 h-3\" />\r\n                    </button>\r\n                    <button\r\n                        onClick={(e) => { e.stopPropagation(); onDelete(); }}\r\n                        className=\"p-1 text-zinc-500 hover:text-red-400 transition-colors\"\r\n                    >\r\n                        <Trash2 className=\"w-3 h-3\" />\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-3 text-[10px] text-zinc-500\">\r\n                <span className=\"flex items-center gap-1\">\r\n                    <MapPin className=\"w-3 h-3\" />\r\n                    {zone.radius || 200}m\r\n                </span>\r\n                {zone.active_hours && (\r\n                    <span className=\"flex items-center gap-1\">\r\n                        <Clock className=\"w-3 h-3\" />\r\n                        {zone.active_hours}\r\n                    </span>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2675, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nkk77/Desktop/SENTRA/WSF/web-dashboard/src/components/AnalyticsView.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { BarChart3, TrendingUp, TrendingDown, MapPin, Clock, Calendar, Download, Filter } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\n\r\ninterface AnalyticsViewProps {\r\n    zones: any[];\r\n}\r\n\r\nexport const AnalyticsView: React.FC<AnalyticsViewProps> = ({ zones }) => {\r\n    const [timeRange, setTimeRange] = useState<'24h' | '7d' | '30d' | '90d'>('7d');\r\n\r\n    // Mock analytics data\r\n    const stats = {\r\n        totalIncidents: 47,\r\n        incidentChange: +12,\r\n        avgResponseTime: '4.2 min',\r\n        responseChange: -8,\r\n        activeZones: zones.length,\r\n        zoneChange: +2,\r\n        usersProtected: 1247,\r\n        userChange: +156\r\n    };\r\n\r\n    const incidentsByZone = [\r\n        { zone: 'TASMAC Katpadi', count: 23, severity: 'HIGH', trend: 'up' },\r\n        { zone: 'VIT Main Gate', count: 15, severity: 'MODERATE', trend: 'down' },\r\n        { zone: 'Green Circle', count: 9, severity: 'HIGH', trend: 'stable' }\r\n    ];\r\n\r\n    const timeSeriesData = [\r\n        { time: 'Mon', incidents: 8 },\r\n        { time: 'Tue', incidents: 12 },\r\n        { time: 'Wed', incidents: 6 },\r\n        { time: 'Thu', incidents: 15 },\r\n        { time: 'Fri', incidents: 10 },\r\n        { time: 'Sat', incidents: 18 },\r\n        { time: 'Sun', incidents: 14 }\r\n    ];\r\n\r\n    const maxIncidents = Math.max(...timeSeriesData.map(d => d.incidents));\r\n\r\n    return (\r\n        <div className=\"h-full w-full bg-[#09090b] overflow-y-auto\">\r\n            <div className=\"p-6 space-y-6\">\r\n\r\n                {/* Header */}\r\n                <div className=\"flex items-center justify-between\">\r\n                    <div>\r\n                        <h1 className=\"text-2xl font-bold text-zinc-100 flex items-center gap-3\">\r\n                            <div className=\"w-10 h-10 rounded-lg bg-cyan-500/10 flex items-center justify-center border border-cyan-500/20\">\r\n                                <BarChart3 className=\"w-5 h-5 text-cyan-400\" />\r\n                            </div>\r\n                            Analytics & Reports\r\n                        </h1>\r\n                        <p className=\"text-sm text-zinc-500 mt-1\">Historical crime data, heatmaps, and trend analysis</p>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center gap-3\">\r\n                        {/* Time Range Selector */}\r\n                        <div className=\"flex gap-1 bg-[#18181b] border border-white/10 rounded-lg p-1\">\r\n                            {(['24h', '7d', '30d', '90d'] as const).map((range) => (\r\n                                <button\r\n                                    key={range}\r\n                                    onClick={() => setTimeRange(range)}\r\n                                    className={`px-3 py-1.5 rounded text-xs font-medium transition-all ${timeRange === range\r\n                                            ? 'bg-cyan-500/20 text-cyan-400 border border-cyan-500/30'\r\n                                            : 'text-zinc-500 hover:text-zinc-300'\r\n                                        }`}\r\n                                >\r\n                                    {range === '24h' ? '24 Hours' : range === '7d' ? '7 Days' : range === '30d' ? '30 Days' : '90 Days'}\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n\r\n                        <Button className=\"bg-cyan-500/10 hover:bg-cyan-500/20 text-cyan-400 border border-cyan-500/20\">\r\n                            <Download className=\"w-4 h-4 mr-2\" />\r\n                            Export Report\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Stats Grid */}\r\n                <div className=\"grid grid-cols-4 gap-4\">\r\n                    <StatCard\r\n                        title=\"Total Incidents\"\r\n                        value={stats.totalIncidents}\r\n                        change={stats.incidentChange}\r\n                        icon={<BarChart3 className=\"w-5 h-5\" />}\r\n                        color=\"red\"\r\n                    />\r\n                    <StatCard\r\n                        title=\"Avg Response Time\"\r\n                        value={stats.avgResponseTime}\r\n                        change={stats.responseChange}\r\n                        icon={<Clock className=\"w-5 h-5\" />}\r\n                        color=\"blue\"\r\n                    />\r\n                    <StatCard\r\n                        title=\"Active Zones\"\r\n                        value={stats.activeZones}\r\n                        change={stats.zoneChange}\r\n                        icon={<MapPin className=\"w-5 h-5\" />}\r\n                        color=\"purple\"\r\n                    />\r\n                    <StatCard\r\n                        title=\"Users Protected\"\r\n                        value={stats.usersProtected}\r\n                        change={stats.userChange}\r\n                        icon={<TrendingUp className=\"w-5 h-5\" />}\r\n                        color=\"emerald\"\r\n                    />\r\n                </div>\r\n\r\n                {/* Charts Row */}\r\n                <div className=\"grid grid-cols-2 gap-6\">\r\n\r\n                    {/* Incident Trend Chart */}\r\n                    <div className=\"bg-[#18181b] border border-white/10 rounded-xl p-6\">\r\n                        <div className=\"flex items-center justify-between mb-6\">\r\n                            <div>\r\n                                <h3 className=\"text-lg font-bold text-zinc-100\">Incident Trend</h3>\r\n                                <p className=\"text-xs text-zinc-500 mt-1\">Last 7 days</p>\r\n                            </div>\r\n                            <Calendar className=\"w-5 h-5 text-zinc-500\" />\r\n                        </div>\r\n\r\n                        {/* Simple Bar Chart */}\r\n                        <div className=\"space-y-3\">\r\n                            {timeSeriesData.map((data, i) => (\r\n                                <div key={i} className=\"flex items-center gap-3\">\r\n                                    <span className=\"text-xs text-zinc-500 w-8\">{data.time}</span>\r\n                                    <div className=\"flex-1 bg-[#09090b] rounded-full h-8 relative overflow-hidden\">\r\n                                        <div\r\n                                            className=\"absolute inset-y-0 left-0 bg-gradient-to-r from-cyan-500/20 to-cyan-500/40 border-r-2 border-cyan-500 rounded-full transition-all duration-500\"\r\n                                            style={{ width: `${(data.incidents / maxIncidents) * 100}%` }}\r\n                                        />\r\n                                        <span className=\"absolute inset-0 flex items-center justify-end pr-3 text-xs font-medium text-cyan-400\">\r\n                                            {data.incidents}\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Incidents by Zone */}\r\n                    <div className=\"bg-[#18181b] border border-white/10 rounded-xl p-6\">\r\n                        <div className=\"flex items-center justify-between mb-6\">\r\n                            <div>\r\n                                <h3 className=\"text-lg font-bold text-zinc-100\">Incidents by Zone</h3>\r\n                                <p className=\"text-xs text-zinc-500 mt-1\">Top risk areas</p>\r\n                            </div>\r\n                            <MapPin className=\"w-5 h-5 text-zinc-500\" />\r\n                        </div>\r\n\r\n                        <div className=\"space-y-4\">\r\n                            {incidentsByZone.map((zone, i) => (\r\n                                <div key={i} className=\"flex items-center justify-between p-3 bg-[#09090b] rounded-lg border border-white/5 hover:border-white/10 transition-colors\">\r\n                                    <div className=\"flex items-center gap-3\">\r\n                                        <div className={`w-2 h-2 rounded-full ${zone.severity === 'HIGH' ? 'bg-red-500' : 'bg-yellow-500'\r\n                                            }`} />\r\n                                        <div>\r\n                                            <p className=\"text-sm font-medium text-zinc-100\">{zone.zone}</p>\r\n                                            <p className=\"text-xs text-zinc-500\">{zone.severity} Risk</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"flex items-center gap-3\">\r\n                                        <span className=\"text-lg font-bold text-zinc-100\">{zone.count}</span>\r\n                                        {zone.trend === 'up' && <TrendingUp className=\"w-4 h-4 text-red-400\" />}\r\n                                        {zone.trend === 'down' && <TrendingDown className=\"w-4 h-4 text-emerald-400\" />}\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Heatmap Section */}\r\n                <div className=\"bg-[#18181b] border border-white/10 rounded-xl p-6\">\r\n                    <div className=\"flex items-center justify-between mb-6\">\r\n                        <div>\r\n                            <h3 className=\"text-lg font-bold text-zinc-100\">Risk Heatmap</h3>\r\n                            <p className=\"text-xs text-zinc-500 mt-1\">Geographic distribution of incidents</p>\r\n                        </div>\r\n                        <Button size=\"sm\" className=\"bg-white/5 hover:bg-white/10 text-zinc-400\">\r\n                            <Filter className=\"w-4 h-4 mr-2\" />\r\n                            Configure\r\n                        </Button>\r\n                    </div>\r\n\r\n                    <div className=\"bg-[#09090b] rounded-lg p-8 border border-white/5\">\r\n                        <div className=\"text-center\">\r\n                            <div className=\"w-16 h-16 rounded-full bg-gradient-to-br from-red-500/20 to-yellow-500/20 mx-auto mb-4 flex items-center justify-center\">\r\n                                <MapPin className=\"w-8 h-8 text-red-400\" />\r\n                            </div>\r\n                            <p className=\"text-sm text-zinc-400\">Interactive heatmap visualization</p>\r\n                            <p className=\"text-xs text-zinc-600 mt-1\">Integration with Mapbox GL coming soon</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Stat Card Component\r\ninterface StatCardProps {\r\n    title: string;\r\n    value: string | number;\r\n    change: number;\r\n    icon: React.ReactNode;\r\n    color: 'red' | 'blue' | 'purple' | 'emerald';\r\n}\r\n\r\nconst StatCard: React.FC<StatCardProps> = ({ title, value, change, icon, color }) => {\r\n    const isPositive = change > 0;\r\n\r\n    const colorClasses = {\r\n        red: 'bg-red-500/10 border-red-500/20 text-red-400',\r\n        blue: 'bg-blue-500/10 border-blue-500/20 text-blue-400',\r\n        purple: 'bg-purple-500/10 border-purple-500/20 text-purple-400',\r\n        emerald: 'bg-emerald-500/10 border-emerald-500/20 text-emerald-400'\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-[#18181b] border border-white/10 rounded-xl p-5 hover:border-white/20 transition-all\">\r\n            <div className=\"flex items-center justify-between mb-3\">\r\n                <div className={`w-10 h-10 rounded-lg ${colorClasses[color]} flex items-center justify-center border`}>\r\n                    {icon}\r\n                </div>\r\n                <div className={`flex items-center gap-1 text-xs font-medium ${isPositive ? 'text-emerald-400' : 'text-red-400'\r\n                    }`}>\r\n                    {isPositive ? <TrendingUp className=\"w-3 h-3\" /> : <TrendingDown className=\"w-3 h-3\" />}\r\n                    {Math.abs(change)}%\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <p className=\"text-2xl font-bold text-zinc-100\">{value}</p>\r\n                <p className=\"text-xs text-zinc-500 mt-1\">{title}</p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3400, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nkk77/Desktop/SENTRA/WSF/web-dashboard/src/components/IncidentsView.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { ShieldAlert, Clock, MapPin, User, CheckCircle, AlertTriangle, XCircle, Filter, Search } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\n\r\ninterface Incident {\r\n    id: string;\r\n    title: string;\r\n    location: string;\r\n    severity: 'high' | 'medium' | 'low';\r\n    status: 'open' | 'acknowledged' | 'resolved';\r\n    user: string;\r\n    time: string;\r\n    description: string;\r\n    coordinates: [number, number];\r\n}\r\n\r\nexport const IncidentsView: React.FC = () => {\r\n    const [selectedSeverity, setSelectedSeverity] = useState<'all' | 'high' | 'medium' | 'low'>('all');\r\n    const [selectedStatus, setSelectedStatus] = useState<'all' | 'open' | 'acknowledged' | 'resolved'>('all');\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [selectedIncident, setSelectedIncident] = useState<Incident | null>(null);\r\n\r\n    // Mock incidents data\r\n    const incidents: Incident[] = [\r\n        {\r\n            id: 'INC-001',\r\n            title: 'Scream Detected',\r\n            location: 'Katpadi Station â€¢ Zone 4',\r\n            severity: 'high',\r\n            status: 'open',\r\n            user: 'User-101',\r\n            time: '2 minutes ago',\r\n            description: 'Audio ML detected distress signal. User location: 12.9724, 79.1551',\r\n            coordinates: [12.9724, 79.1551]\r\n        },\r\n        {\r\n            id: 'INC-002',\r\n            title: 'Panic Button Activated',\r\n            location: 'VIT Main Gate',\r\n            severity: 'high',\r\n            status: 'acknowledged',\r\n            user: 'User-205',\r\n            time: '15 minutes ago',\r\n            description: 'Manual SOS trigger. Responders dispatched.',\r\n            coordinates: [12.9692, 79.1559]\r\n        },\r\n        {\r\n            id: 'INC-003',\r\n            title: 'Zone Entry Alert',\r\n            location: 'Green Circle Area',\r\n            severity: 'medium',\r\n            status: 'open',\r\n            user: 'User-342',\r\n            time: '28 minutes ago',\r\n            description: 'User entered high-risk zone after 10 PM',\r\n            coordinates: [12.9680, 79.1570]\r\n        },\r\n        {\r\n            id: 'INC-004',\r\n            title: 'Route Deviation',\r\n            location: 'Katpadi Main Road',\r\n            severity: 'low',\r\n            status: 'resolved',\r\n            user: 'User-156',\r\n            time: '1 hour ago',\r\n            description: 'User deviated from safe route. Returned to safe path.',\r\n            coordinates: [12.9700, 79.1545]\r\n        }\r\n    ];\r\n\r\n    const filteredIncidents = incidents.filter(inc => {\r\n        const matchesSeverity = selectedSeverity === 'all' || inc.severity === selectedSeverity;\r\n        const matchesStatus = selectedStatus === 'all' || inc.status === selectedStatus;\r\n        const matchesSearch = inc.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n            inc.location.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n            inc.user.toLowerCase().includes(searchQuery.toLowerCase());\r\n        return matchesSeverity && matchesStatus && matchesSearch;\r\n    });\r\n\r\n    const stats = {\r\n        open: incidents.filter(i => i.status === 'open').length,\r\n        acknowledged: incidents.filter(i => i.status === 'acknowledged').length,\r\n        resolved: incidents.filter(i => i.status === 'resolved').length,\r\n        high: incidents.filter(i => i.severity === 'high').length\r\n    };\r\n\r\n    return (\r\n        <div className=\"h-full w-full flex\">\r\n\r\n            {/* Left Panel - Incident List */}\r\n            <div className=\"w-96 flex-none bg-[#18181b] border-r border-white/10 flex flex-col overflow-hidden\">\r\n\r\n                {/* Header */}\r\n                <div className=\"p-5 border-b border-white/5\">\r\n                    <div className=\"flex items-center gap-3 mb-4\">\r\n                        <div className=\"w-10 h-10 rounded-lg bg-red-500/10 flex items-center justify-center border border-red-500/20\">\r\n                            <ShieldAlert className=\"w-5 h-5 text-red-400\" />\r\n                        </div>\r\n                        <div>\r\n                            <h2 className=\"text-lg font-bold text-zinc-100\">Active Incidents</h2>\r\n                            <p className=\"text-xs text-zinc-500\">{filteredIncidents.length} total incidents</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Stats */}\r\n                    <div className=\"grid grid-cols-3 gap-2 mb-4\">\r\n                        <div className=\"bg-red-500/10 border border-red-500/30 rounded-lg p-2 text-center\">\r\n                            <div className=\"text-xl font-bold text-red-400\">{stats.open}</div>\r\n                            <div className=\"text-[9px] text-zinc-500 uppercase tracking-wide\">Open</div>\r\n                        </div>\r\n                        <div className=\"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-2 text-center\">\r\n                            <div className=\"text-xl font-bold text-yellow-400\">{stats.acknowledged}</div>\r\n                            <div className=\"text-[9px] text-zinc-500 uppercase tracking-wide\">Active</div>\r\n                        </div>\r\n                        <div className=\"bg-emerald-500/10 border border-emerald-500/30 rounded-lg p-2 text-center\">\r\n                            <div className=\"text-xl font-bold text-emerald-400\">{stats.resolved}</div>\r\n                            <div className=\"text-[9px] text-zinc-500 uppercase tracking-wide\">Resolved</div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Search */}\r\n                    <div className=\"relative mb-3\">\r\n                        <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500\" />\r\n                        <input\r\n                            type=\"text\"\r\n                            value={searchQuery}\r\n                            onChange={(e) => setSearchQuery(e.target.value)}\r\n                            placeholder=\"Search incidents...\"\r\n                            className=\"w-full pl-10 pr-4 py-2 bg-[#09090b] border border-white/10 rounded-lg text-sm text-zinc-100 placeholder:text-zinc-600 focus:border-red-500/50 focus:outline-none focus:ring-2 focus:ring-red-500/20 transition-all\"\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Filters */}\r\n                    <div className=\"space-y-2\">\r\n                        <div className=\"flex gap-1\">\r\n                            {(['all', 'high', 'medium', 'low'] as const).map((severity) => (\r\n                                <button\r\n                                    key={severity}\r\n                                    onClick={() => setSelectedSeverity(severity)}\r\n                                    className={`flex-1 py-1.5 px-2 rounded text-[10px] font-medium uppercase tracking-wide transition-all ${selectedSeverity === severity\r\n                                            ? severity === 'high' ? 'bg-red-500/20 text-red-400 border border-red-500/30'\r\n                                                : severity === 'medium' ? 'bg-yellow-500/20 text-yellow-400 border border-yellow-500/30'\r\n                                                    : severity === 'low' ? 'bg-blue-500/20 text-blue-400 border border-blue-500/30'\r\n                                                        : 'bg-white/10 text-zinc-300 border border-white/20'\r\n                                            : 'bg-white/5 text-zinc-500 hover:text-zinc-300 border border-transparent'\r\n                                        }`}\r\n                                >\r\n                                    {severity}\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                        <div className=\"flex gap-1\">\r\n                            {(['all', 'open', 'acknowledged', 'resolved'] as const).map((status) => (\r\n                                <button\r\n                                    key={status}\r\n                                    onClick={() => setSelectedStatus(status)}\r\n                                    className={`flex-1 py-1.5 px-2 rounded text-[10px] font-medium uppercase tracking-wide transition-all ${selectedStatus === status\r\n                                            ? 'bg-purple-500/20 text-purple-400 border border-purple-500/30'\r\n                                            : 'bg-white/5 text-zinc-500 hover:text-zinc-300 border border-transparent'\r\n                                        }`}\r\n                                >\r\n                                    {status === 'all' ? 'All' : status.slice(0, 4)}\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Incident List */}\r\n                <div className=\"flex-1 overflow-y-auto p-4 space-y-2\">\r\n                    {filteredIncidents.map((incident) => (\r\n                        <IncidentCard\r\n                            key={incident.id}\r\n                            incident={incident}\r\n                            isSelected={selectedIncident?.id === incident.id}\r\n                            onClick={() => setSelectedIncident(incident)}\r\n                        />\r\n                    ))}\r\n\r\n                    {filteredIncidents.length === 0 && (\r\n                        <div className=\"text-center py-12\">\r\n                            <Filter className=\"w-12 h-12 text-zinc-700 mx-auto mb-3\" />\r\n                            <p className=\"text-sm text-zinc-500\">No incidents match your filters</p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Right Panel - Incident Details */}\r\n            <div className=\"flex-1 bg-[#09090b] flex items-center justify-center\">\r\n                {selectedIncident ? (\r\n                    <div className=\"w-full max-w-2xl p-8\">\r\n                        <IncidentDetails incident={selectedIncident} onClose={() => setSelectedIncident(null)} />\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"text-center\">\r\n                        <ShieldAlert className=\"w-16 h-16 text-zinc-700 mx-auto mb-4\" />\r\n                        <h3 className=\"text-xl font-bold text-zinc-100 mb-2\">Select an Incident</h3>\r\n                        <p className=\"text-zinc-500 text-sm\">Click on an incident to view details and take action</p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Incident Card Component\r\nconst IncidentCard: React.FC<{ incident: Incident; isSelected: boolean; onClick: () => void }> = ({\r\n    incident,\r\n    isSelected,\r\n    onClick\r\n}) => {\r\n    const severityColor =\r\n        incident.severity === 'high' ? 'red' :\r\n            incident.severity === 'medium' ? 'yellow' : 'blue';\r\n\r\n    const statusIcon =\r\n        incident.status === 'open' ? <AlertTriangle className=\"w-3 h-3\" /> :\r\n            incident.status === 'acknowledged' ? <Clock className=\"w-3 h-3\" /> :\r\n                <CheckCircle className=\"w-3 h-3\" />;\r\n\r\n    return (\r\n        <div\r\n            onClick={onClick}\r\n            className={`rounded-lg border p-3 cursor-pointer transition-all ${isSelected\r\n                    ? `border-${severityColor}-500/50 bg-${severityColor}-500/10`\r\n                    : `border-${severityColor}-500/20 bg-${severityColor}-500/5 hover:bg-${severityColor}-500/10`\r\n                }`}\r\n        >\r\n            <div className=\"flex items-start justify-between mb-2\">\r\n                <div className=\"flex-1\">\r\n                    <div className=\"flex items-center gap-2 mb-1\">\r\n                        <span className={`text-xs font-mono font-bold ${severityColor === 'red' ? 'text-red-400' :\r\n                                severityColor === 'yellow' ? 'text-yellow-400' : 'text-blue-400'\r\n                            }`}>\r\n                            {incident.id}\r\n                        </span>\r\n                        <span className={`flex items-center gap-1 text-[10px] ${incident.status === 'open' ? 'text-red-400' :\r\n                                incident.status === 'acknowledged' ? 'text-yellow-400' : 'text-emerald-400'\r\n                            }`}>\r\n                            {statusIcon}\r\n                            {incident.status}\r\n                        </span>\r\n                    </div>\r\n                    <h4 className=\"font-semibold text-sm text-zinc-100\">{incident.title}</h4>\r\n                    <p className=\"text-xs text-zinc-500 mt-1 flex items-center gap-1\">\r\n                        <MapPin className=\"w-3 h-3\" />\r\n                        {incident.location}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            <div className=\"flex items-center justify-between text-[10px] text-zinc-600\">\r\n                <span className=\"flex items-center gap-1\">\r\n                    <User className=\"w-3 h-3\" />\r\n                    {incident.user}\r\n                </span>\r\n                <span className=\"flex items-center gap-1\">\r\n                    <Clock className=\"w-3 h-3\" />\r\n                    {incident.time}\r\n                </span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Incident Details Component\r\nconst IncidentDetails: React.FC<{ incident: Incident; onClose: () => void }> = ({ incident, onClose }) => {\r\n    return (\r\n        <div className=\"bg-[#18181b] border border-white/10 rounded-xl p-6 space-y-6\">\r\n\r\n            {/* Header */}\r\n            <div className=\"flex items-start justify-between\">\r\n                <div className=\"flex items-center gap-3\">\r\n                    <div className={`w-12 h-12 rounded-lg flex items-center justify-center border ${incident.severity === 'high' ? 'bg-red-500/10 border-red-500/20' :\r\n                            incident.severity === 'medium' ? 'bg-yellow-500/10 border-yellow-500/20' :\r\n                                'bg-blue-500/10 border-blue-500/20'\r\n                        }`}>\r\n                        <ShieldAlert className={`w-6 h-6 ${incident.severity === 'high' ? 'text-red-400' :\r\n                                incident.severity === 'medium' ? 'text-yellow-400' : 'text-blue-400'\r\n                            }`} />\r\n                    </div>\r\n                    <div>\r\n                        <h2 className=\"text-xl font-bold text-zinc-100\">{incident.title}</h2>\r\n                        <p className=\"text-sm text-zinc-500\">{incident.id}</p>\r\n                    </div>\r\n                </div>\r\n                <button onClick={onClose} className=\"text-zinc-500 hover:text-white text-xl\">Ã—</button>\r\n            </div>\r\n\r\n            {/* Info Grid */}\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"bg-[#09090b] rounded-lg p-4 border border-white/5\">\r\n                    <p className=\"text-xs text-zinc-500 mb-1\">Location</p>\r\n                    <p className=\"text-sm text-zinc-100 font-medium\">{incident.location}</p>\r\n                    <p className=\"text-xs text-zinc-600 mt-1\">{incident.coordinates[0].toFixed(4)}, {incident.coordinates[1].toFixed(4)}</p>\r\n                </div>\r\n                <div className=\"bg-[#09090b] rounded-lg p-4 border border-white/5\">\r\n                    <p className=\"text-xs text-zinc-500 mb-1\">User</p>\r\n                    <p className=\"text-sm text-zinc-100 font-medium\">{incident.user}</p>\r\n                    <p className=\"text-xs text-zinc-600 mt-1\">{incident.time}</p>\r\n                </div>\r\n                <div className=\"bg-[#09090b] rounded-lg p-4 border border-white/5\">\r\n                    <p className=\"text-xs text-zinc-500 mb-1\">Severity</p>\r\n                    <p className={`text-sm font-bold uppercase ${incident.severity === 'high' ? 'text-red-400' :\r\n                            incident.severity === 'medium' ? 'text-yellow-400' : 'text-blue-400'\r\n                        }`}>{incident.severity}</p>\r\n                </div>\r\n                <div className=\"bg-[#09090b] rounded-lg p-4 border border-white/5\">\r\n                    <p className=\"text-xs text-zinc-500 mb-1\">Status</p>\r\n                    <p className={`text-sm font-bold uppercase ${incident.status === 'open' ? 'text-red-400' :\r\n                            incident.status === 'acknowledged' ? 'text-yellow-400' : 'text-emerald-400'\r\n                        }`}>{incident.status}</p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Description */}\r\n            <div className=\"bg-[#09090b] rounded-lg p-4 border border-white/5\">\r\n                <p className=\"text-xs text-zinc-500 mb-2\">Description</p>\r\n                <p className=\"text-sm text-zinc-300\">{incident.description}</p>\r\n            </div>\r\n\r\n            {/* Actions */}\r\n            <div className=\"flex gap-3\">\r\n                <Button className=\"flex-1 bg-yellow-500/10 hover:bg-yellow-500/20 text-yellow-400 border border-yellow-500/20\">\r\n                    <Clock className=\"w-4 h-4 mr-2\" />\r\n                    Acknowledge\r\n                </Button>\r\n                <Button className=\"flex-1 bg-emerald-500/10 hover:bg-emerald-500/20 text-emerald-400 border border-emerald-500/20\">\r\n                    <CheckCircle className=\"w-4 h-4 mr-2\" />\r\n                    Resolve\r\n                </Button>\r\n                <Button className=\"flex-1 bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20\">\r\n                    <XCircle className=\"w-4 h-4 mr-2\" />\r\n                    Escalate\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4284, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nkk77/Desktop/SENTRA/WSF/web-dashboard/src/hooks/useZones.ts"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\nexport interface Zone {\r\n    id: number;\r\n    location: string;\r\n    lat: number;\r\n    lng: number;\r\n    severity: 'HIGH' | 'MODERATE' | 'LOW';\r\n    type: string;\r\n    description: string;\r\n    active_hours?: string;\r\n    radius?: number; // Optional, defaults will be applied\r\n}\r\n\r\nexport const useZones = () => {\r\n    const [zones, setZones] = useState<Zone[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    const fetchZones = async () => {\r\n        try {\r\n            const response = await fetch('http://localhost:8000/zones');\r\n            if (!response.ok) {\r\n                throw new Error('Failed to fetch zones');\r\n            }\r\n            const data = await response.json();\r\n            // Expecting data format: { zones: [...] }\r\n            setZones(data.zones || []);\r\n            setError(null);\r\n        } catch (err) {\r\n            console.error('Error fetching zones:', err);\r\n            // FALLBACK: Use mock data when backend is unavailable\r\n            setZones([\r\n                {\r\n                    id: 1,\r\n                    location: \"TASMAC Katpadi\",\r\n                    lat: 12.9716,\r\n                    lng: 79.1594,\r\n                    severity: 'HIGH',\r\n                    type: 'crime_hotspot',\r\n                    description: 'High crime area near TASMAC',\r\n                    radius: 200\r\n                },\r\n                {\r\n                    id: 2,\r\n                    location: \"VIT Main Gate\",\r\n                    lat: 12.9692,\r\n                    lng: 79.1559,\r\n                    severity: 'MODERATE',\r\n                    type: 'moderate_risk',\r\n                    description: 'Moderate risk zone',\r\n                    radius: 150\r\n                }\r\n            ]);\r\n            setError(null); // Don't show error if we have fallback data\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchZones();\r\n        // Poll every 60 seconds for zone updates (e.g. time-based activation)\r\n        const interval = setInterval(fetchZones, 60000);\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    return { zones, loading, error };\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;;;AAcO,MAAM,WAAW;;IACpB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAS,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAElD,MAAM,aAAa;QACf,IAAI;YACA,MAAM,WAAW,MAAM,MAAM;YAC7B,IAAI,CAAC,SAAS,EAAE,EAAE;gBACd,MAAM,IAAI,MAAM;YACpB;YACA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,0CAA0C;YAC1C,SAAS,KAAK,KAAK,IAAI,EAAE;YACzB,SAAS;QACb,EAAE,OAAO,KAAK;YACV,QAAQ,KAAK,CAAC,yBAAyB;YACvC,sDAAsD;YACtD,SAAS;gBACL;oBACI,IAAI;oBACJ,UAAU;oBACV,KAAK;oBACL,KAAK;oBACL,UAAU;oBACV,MAAM;oBACN,aAAa;oBACb,QAAQ;gBACZ;gBACA;oBACI,IAAI;oBACJ,UAAU;oBACV,KAAK;oBACL,KAAK;oBACL,UAAU;oBACV,MAAM;oBACN,aAAa;oBACb,QAAQ;gBACZ;aACH;YACD,SAAS,OAAO,4CAA4C;QAChE,SAAU;YACN,WAAW;QACf;IACJ;IAEA,IAAA,0KAAS;8BAAC;YACN;YACA,sEAAsE;YACtE,MAAM,WAAW,YAAY,YAAY;YACzC;sCAAO,IAAM,cAAc;;QAC/B;6BAAG,EAAE;IAEL,OAAO;QAAE;QAAO;QAAS;IAAM;AACnC;GAtDa"}},
    {"offset": {"line": 4360, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nkk77/Desktop/SENTRA/WSF/web-dashboard/src/hooks/useRealtimeLocations.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport type { SupabaseClient } from \"@supabase/supabase-js\";\r\nimport type { LiveLocation } from \"../types\";\r\n\r\nconst mockLocations: LiveLocation[] = [\r\n  { user_id: \"user-101\", latitude: 12.9696, longitude: 79.1589, heading: 185, speed: 1.1, updated_at: new Date().toISOString() },\r\n  { user_id: \"user-102\", latitude: 12.9724, longitude: 79.1551, heading: 42, speed: 0.6, updated_at: new Date().toISOString() },\r\n];\r\n\r\nconst normalizeLocation = (row: any): LiveLocation => ({\r\n  user_id: row.user_id ?? row.id ?? \"unknown\",\r\n  latitude: Number(row.latitude ?? row.lat ?? 0),\r\n  longitude: Number(row.longitude ?? row.lng ?? 0),\r\n  heading: row.heading ?? row.bearing ?? null,\r\n  speed: row.speed ?? null,\r\n  updated_at: row.updated_at ?? row.timestamp ?? new Date().toISOString(),\r\n  source_type: row.source_type ?? 'online', // Default to online\r\n  mesh_hop_count: row.mesh_hop_count ?? 0\r\n});\r\n\r\nexport const useRealtimeLocations = (supabase: SupabaseClient | null, pollingInterval?: number) => {\r\n  const [locations, setLocations] = useState<LiveLocation[]>(mockLocations);\r\n\r\n  useEffect(() => {\r\n    if (!supabase) return;\r\n\r\n    const fetchLocations = async () => {\r\n      const { data, error } = await supabase\r\n        .from(\"live_locations\")\r\n        .select(\"user_id,latitude,longitude,heading,speed,updated_at,source_type,mesh_hop_count\");\r\n\r\n      if (error) {\r\n        console.warn(\"live_locations fetch error\", error.message);\r\n        return;\r\n      }\r\n      if (data) setLocations(data.map(normalizeLocation));\r\n    };\r\n\r\n    // Initial fetch\r\n    fetchLocations();\r\n\r\n    let intervalId: NodeJS.Timeout | null = null;\r\n    let channel: any = null;\r\n\r\n    if (pollingInterval && pollingInterval > 0) {\r\n      // POLLING MODE (Adaptive Refresh)\r\n      intervalId = setInterval(fetchLocations, pollingInterval);\r\n    } else {\r\n      // REALTIME SUBSCRIPTION MODE (Default)\r\n      channel = supabase\r\n        .channel(\"live-locations-stream\")\r\n        .on(\r\n          \"postgres_changes\",\r\n          { event: \"*\", schema: \"public\", table: \"live_locations\" },\r\n          (payload) => {\r\n            setLocations((prev) => {\r\n              if (payload.eventType === \"DELETE\") {\r\n                const removedId = payload.old?.user_id ?? payload.old?.id;\r\n                return prev.filter((l) => l.user_id !== removedId);\r\n              }\r\n              const updated = normalizeLocation(payload.new);\r\n              const existing = prev.find((l) => l.user_id === updated.user_id);\r\n              if (existing) {\r\n                return prev.map((l) => (l.user_id === updated.user_id ? updated : l));\r\n              }\r\n              return [updated, ...prev];\r\n            });\r\n          }\r\n        )\r\n        .subscribe();\r\n    }\r\n\r\n    return () => {\r\n      if (intervalId) clearInterval(intervalId);\r\n      if (channel) supabase.removeChannel(channel);\r\n    };\r\n  }, [supabase, pollingInterval]);\r\n\r\n  return { locations };\r\n};\r\n"],"names":[],"mappings":";;;;AAEA;;AAFA;;AAMA,MAAM,gBAAgC;IACpC;QAAE,SAAS;QAAY,UAAU;QAAS,WAAW;QAAS,SAAS;QAAK,OAAO;QAAK,YAAY,IAAI,OAAO,WAAW;IAAG;IAC7H;QAAE,SAAS;QAAY,UAAU;QAAS,WAAW;QAAS,SAAS;QAAI,OAAO;QAAK,YAAY,IAAI,OAAO,WAAW;IAAG;CAC7H;AAED,MAAM,oBAAoB,CAAC,MAA2B,CAAC;QACrD,SAAS,IAAI,OAAO,IAAI,IAAI,EAAE,IAAI;QAClC,UAAU,OAAO,IAAI,QAAQ,IAAI,IAAI,GAAG,IAAI;QAC5C,WAAW,OAAO,IAAI,SAAS,IAAI,IAAI,GAAG,IAAI;QAC9C,SAAS,IAAI,OAAO,IAAI,IAAI,OAAO,IAAI;QACvC,OAAO,IAAI,KAAK,IAAI;QACpB,YAAY,IAAI,UAAU,IAAI,IAAI,SAAS,IAAI,IAAI,OAAO,WAAW;QACrE,aAAa,IAAI,WAAW,IAAI;QAChC,gBAAgB,IAAI,cAAc,IAAI;IACxC,CAAC;AAEM,MAAM,uBAAuB,CAAC,UAAiC;;IACpE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAiB;IAE3D,IAAA,0KAAS;0CAAC;YACR,IAAI,CAAC,UAAU;YAEf,MAAM;iEAAiB;oBACrB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,kBACL,MAAM,CAAC;oBAEV,IAAI,OAAO;wBACT,QAAQ,IAAI,CAAC,8BAA8B,MAAM,OAAO;wBACxD;oBACF;oBACA,IAAI,MAAM,aAAa,KAAK,GAAG,CAAC;gBAClC;;YAEA,gBAAgB;YAChB;YAEA,IAAI,aAAoC;YACxC,IAAI,UAAe;YAEnB,IAAI,mBAAmB,kBAAkB,GAAG;gBAC1C,kCAAkC;gBAClC,aAAa,YAAY,gBAAgB;YAC3C,OAAO;gBACL,uCAAuC;gBACvC,UAAU,SACP,OAAO,CAAC,yBACR,EAAE,CACD,oBACA;oBAAE,OAAO;oBAAK,QAAQ;oBAAU,OAAO;gBAAiB;sDACxD,CAAC;wBACC;8DAAa,CAAC;gCACZ,IAAI,QAAQ,SAAS,KAAK,UAAU;oCAClC,MAAM,YAAY,QAAQ,GAAG,EAAE,WAAW,QAAQ,GAAG,EAAE;oCACvD,OAAO,KAAK,MAAM;0EAAC,CAAC,IAAM,EAAE,OAAO,KAAK;;gCAC1C;gCACA,MAAM,UAAU,kBAAkB,QAAQ,GAAG;gCAC7C,MAAM,WAAW,KAAK,IAAI;+EAAC,CAAC,IAAM,EAAE,OAAO,KAAK,QAAQ,OAAO;;gCAC/D,IAAI,UAAU;oCACZ,OAAO,KAAK,GAAG;0EAAC,CAAC,IAAO,EAAE,OAAO,KAAK,QAAQ,OAAO,GAAG,UAAU;;gCACpE;gCACA,OAAO;oCAAC;uCAAY;iCAAK;4BAC3B;;oBACF;qDAED,SAAS;YACd;YAEA;kDAAO;oBACL,IAAI,YAAY,cAAc;oBAC9B,IAAI,SAAS,SAAS,aAAa,CAAC;gBACtC;;QACF;yCAAG;QAAC;QAAU;KAAgB;IAE9B,OAAO;QAAE;IAAU;AACrB;GA3Da"}},
    {"offset": {"line": 4476, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nkk77/Desktop/SENTRA/WSF/web-dashboard/src/components/DashboardPage.tsx"],"sourcesContent":["import React, { useState, useId } from \"react\";\r\nimport {\r\n  MoonIcon,\r\n  SunIcon,\r\n  Eclipse,\r\n  XIcon,\r\n  CircleAlertIcon,\r\n  CircleCheckIcon,\r\n  UserRoundIcon,\r\n  Activity,\r\n  Menu,\r\n  LayoutDashboard,\r\n  ShieldAlert,\r\n  Radio,\r\n  History,\r\n  Search,\r\n  BarChart3,\r\n  Users,\r\n  MapPin,\r\n  Settings\r\n} from \"lucide-react\";\r\n\r\nimport { Switch } from \"@/components/ui/switch\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\r\nimport { MapView } from \"./MapView\";\r\nimport { ZoneManagement } from \"./ZoneManagement\";\r\nimport { AnalyticsView } from \"./AnalyticsView\";\r\nimport { IncidentsView } from \"./IncidentsView\";\r\nimport { UsersView } from \"./UsersView\";\r\nimport { Incident, LiveLocation } from \"../types\";\r\nimport { useZones } from \"../hooks/useZones\";\r\nimport { useRealtimeLocations } from \"../hooks/useRealtimeLocations\";\r\n\r\n/* --- COMPONENT 1: THEME SWITCH --- */\r\nexport function ThemeToggle() {\r\n  const id = useId();\r\n  const [checked, setChecked] = useState(true);\r\n  return (\r\n    <div className=\"group inline-flex items-center gap-2\" data-state={checked ? \"checked\" : \"unchecked\"}>\r\n      <span className=\"cursor-pointer text-right text-zinc-500 group-data-[state=checked]:text-zinc-600 transition-colors\">\r\n        <SunIcon size={16} />\r\n      </span>\r\n      <Switch checked={checked} onCheckedChange={setChecked} />\r\n      <span className=\"cursor-pointer text-left text-zinc-500 group-data-[state=unchecked]:text-zinc-600 transition-colors\">\r\n        <MoonIcon size={16} />\r\n      </span>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* --- COMPONENT 2: SYSTEM BANNER --- */\r\nexport function SystemBanner() {\r\n  const [isVisible, setIsVisible] = useState(true);\r\n  if (!isVisible) return null;\r\n  return (\r\n    <div className=\"absolute top-4 left-1/2 -translate-x-1/2 z-20 animate-in fade-in slide-in-from-top-4 duration-500\">\r\n      <div className=\"dark bg-[#18181b]/80 border border-white/10 px-4 py-2 text-zinc-100 backdrop-blur-md rounded-full shadow-2xl flex gap-2 items-center min-w-[340px]\">\r\n        <Eclipse className=\"shrink-0 opacity-60 text-cyan-400\" size={16} />\r\n        <p className=\"text-xs font-medium\">System Online: High Performance Mode Active</p>\r\n        <Button variant=\"ghost\" size=\"icon\" className=\"h-6 w-6 ml-auto hover:bg-white/10 text-zinc-400 hover:text-white\" onClick={() => setIsVisible(false)}>\r\n          <XIcon size={14} />\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* --- COMPONENT 3: ALERT CARD (DANGER) --- */\r\nexport function DangerAlert({ title, location }: { title: string, location: string }) {\r\n  return (\r\n    <div className=\"rounded-lg border border-red-500/30 bg-red-500/10 px-4 py-3 mb-3 hover:bg-red-500/15 transition-colors\">\r\n      <div className=\"flex gap-3\">\r\n        <CircleAlertIcon className=\"mt-0.5 shrink-0 text-red-500 animate-pulse\" size={16} />\r\n        <div className=\"grow space-y-1\">\r\n          <p className=\"font-medium text-sm text-red-400 uppercase tracking-wide\">{title}</p>\r\n          <p className=\"text-xs text-red-300/70\">{location}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* --- COMPONENT 4: SUCCESS CARD (SAFE) --- */\r\nexport function SuccessAlert({ message }: { message: string }) {\r\n  return (\r\n    <div className=\"rounded-lg border border-emerald-500/20 bg-emerald-500/5 px-4 py-3 mb-3 hover:bg-emerald-500/10 transition-colors\">\r\n      <p className=\"text-sm flex items-center text-emerald-400 font-medium\">\r\n        <CircleCheckIcon className=\"me-3 text-emerald-500\" size={16} />\r\n        {message}\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* --- COMPONENT 5: AVATAR --- */\r\nexport function UserProfile() {\r\n  return (\r\n    <Avatar className=\"h-9 w-9 border border-white/10 transition-colors hover:border-cyan-500/50 cursor-pointer\">\r\n      <AvatarFallback className=\"bg-zinc-800 text-zinc-400\">\r\n        <UserRoundIcon size={16} />\r\n      </AvatarFallback>\r\n    </Avatar>\r\n  );\r\n}\r\n\r\n// --- NAVIGATION ITEMS ---\r\nconst NAV_ITEMS = [\r\n  { id: 'dashboard', icon: LayoutDashboard, label: 'Dashboard' },\r\n  { id: 'analytics', icon: BarChart3, label: 'Analytics' },\r\n  { id: 'incidents', icon: ShieldAlert, label: 'Incidents' },\r\n  { id: 'users', icon: Users, label: 'Users' },\r\n  { id: 'zones', icon: MapPin, label: 'Zones' },\r\n  { id: 'responders', icon: Radio, label: 'Responders' },\r\n  { id: 'settings', icon: Settings, label: 'Settings' },\r\n  { id: 'logs', icon: History, label: 'Logs' }\r\n];\r\n\r\n// --- MAIN PAGE LAYOUT ---\r\n\r\nconst mockIncidents: Incident[] = [\r\n  {\r\n    id: \"alert-1\",\r\n    user_id: \"u1\",\r\n    status: \"open\",\r\n    severity: \"high\",\r\n    latitude: 12.9724,\r\n    longitude: 79.1551,\r\n    created_at: new Date().toISOString(),\r\n    display_name: \"Katpadi Station\",\r\n    notes: \"Scream Detected\",\r\n    source: \"audio\"\r\n  }\r\n];\r\n\r\nexport const DashboardPage: React.FC = () => {\r\n  // Real-time data hooks\r\n  const { zones } = useZones();\r\n  const { locations } = useRealtimeLocations(null);\r\n\r\n  // Active view state\r\n  const [activeView, setActiveView] = useState('dashboard');\r\n\r\n  return (\r\n    <div className=\"flex h-screen w-full bg-[#09090b] text-zinc-100 font-sans overflow-hidden dark\">\r\n\r\n      {/* 1. SIDEBAR (Left, Fixed, w-16) - Minimal Rail */}\r\n      <aside className=\"w-16 flex-none bg-[#09090b] border-r border-white/10 flex flex-col items-center py-6 gap-6 z-30\">\r\n        <div className=\"w-10 h-10 rounded-xl bg-cyan-500/10 flex items-center justify-center border border-cyan-500/20 text-cyan-400 shadow-[0_0_15px_rgba(34,211,238,0.1)]\">\r\n          <Activity className=\"w-6 h-6\" />\r\n        </div>\r\n\r\n        <nav className=\"flex-1 flex flex-col gap-4 mt-4\">\r\n          {NAV_ITEMS.map((item) => {\r\n            const Icon = item.icon;\r\n            const isActive = activeView === item.id;\r\n\r\n            return (\r\n              <button\r\n                key={item.id}\r\n                onClick={() => setActiveView(item.id)}\r\n                className={`p-3 rounded-lg transition-all duration-200 group relative ${isActive\r\n                  ? \"text-cyan-400\"\r\n                  : \"text-zinc-500 hover:text-zinc-300 hover:bg-white/5\"\r\n                  }`}\r\n                title={item.label}\r\n              >\r\n                <Icon className=\"w-5 h-5\" />\r\n                {isActive && (\r\n                  <span className=\"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-6 bg-cyan-400 rounded-r-full\" />\r\n                )}\r\n              </button>\r\n            );\r\n          })}\r\n        </nav>\r\n\r\n        <button className=\"p-3 text-zinc-500 hover:text-white transition-colors\">\r\n          <Menu className=\"w-5 h-5\" />\r\n        </button>\r\n      </aside>\r\n\r\n      {/* 2. CENTER CANVAS (Flex-1) */}\r\n      <main className=\"flex-1 flex flex-col relative min-w-0\">\r\n\r\n        {/* HEADER (Top, h-14) - Floating/Docked */}\r\n        <header className=\"h-14 flex-none border-b border-white/10 bg-[#09090b]/90 backdrop-blur-md flex items-center justify-between px-6 z-20\">\r\n          <div className=\"flex items-center gap-4 text-sm text-zinc-400\">\r\n            <div className=\"flex items-center gap-2 px-3 py-1.5 bg-[#18181b] rounded-full border border-white/5 w-64 focus-within:border-cyan-500/30 transition-colors\">\r\n              <Search className=\"w-4 h-4 text-zinc-500\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search zones, IDs...\"\r\n                className=\"bg-transparent border-none outline-none text-zinc-300 text-xs w-full placeholder:text-zinc-600\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"text-xs text-zinc-500 font-mono\">\r\n              View: <span className=\"text-cyan-400 font-semibold\">{NAV_ITEMS.find(i => i.id === activeView)?.label}</span>\r\n            </div>\r\n            <ThemeToggle />\r\n            <div className=\"h-4 w-[1px] bg-white/10\" />\r\n            <UserProfile />\r\n          </div>\r\n        </header>\r\n\r\n        {/* CONTENT AREA - Conditional Rendering Based on Active View */}\r\n        <div className=\"flex-1 relative z-0\">\r\n          {activeView === 'dashboard' && (\r\n            <>\r\n              <SystemBanner />\r\n              <MapView\r\n                incidents={mockIncidents}\r\n                locations={locations}\r\n                zones={zones}\r\n                selectedIncidentId={null}\r\n                onSelectIncident={() => { }}\r\n                loading={false}\r\n                supabaseEnabled={false}\r\n                mapStyle=\"mapbox://styles/mapbox/dark-v11\"\r\n              />\r\n            </>\r\n          )}\r\n\r\n          {activeView === 'analytics' && (\r\n            <AnalyticsView zones={zones} />\r\n          )}\r\n\r\n          {activeView === 'incidents' && (\r\n            <IncidentsView />\r\n          )}\r\n\r\n          {activeView === 'users' && (\r\n            <div className=\"h-full flex items-center justify-center\">\r\n              <div className=\"text-center\">\r\n                <Users className=\"w-16 h-16 text-blue-400 mx-auto mb-4\" />\r\n                <h2 className=\"text-2xl font-bold mb-2\">User Management</h2>\r\n                <p className=\"text-zinc-500\">Connected users and location tracking</p>\r\n                <div className=\"mt-6\">\r\n                  <div className=\"inline-flex items-center gap-2 bg-blue-500/10 border border-blue-500/30 rounded-full px-6 py-3\">\r\n                    <div className=\"w-2 h-2 rounded-full bg-blue-400 animate-pulse\" />\r\n                    <span className=\"text-blue-400 font-semibold\">{locations.length} Users Online</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {activeView === 'zones' && (\r\n            <ZoneManagement\r\n              zones={zones}\r\n              onAddZone={() => {\r\n                console.log('Add zone clicked - TODO: Implement zone creation modal');\r\n              }}\r\n              onEditZone={(zoneId) => {\r\n                console.log('Edit zone:', zoneId, '- TODO: Implement zone edit modal');\r\n              }}\r\n              onDeleteZone={(zoneId) => {\r\n                console.log('Delete zone:', zoneId, '- TODO: Implement zone deletion confirmation');\r\n              }}\r\n            />\r\n          )}\r\n\r\n          {activeView === 'responders' && (\r\n            <div className=\"h-full flex items-center justify-center\">\r\n              <div className=\"text-center\">\r\n                <Radio className=\"w-16 h-16 text-green-400 mx-auto mb-4\" />\r\n                <h2 className=\"text-2xl font-bold mb-2\">Responders & Field Units</h2>\r\n                <p className=\"text-zinc-500\">Active patrol routes and response teams</p>\r\n                <div className=\"mt-6 text-xs text-zinc-600\">Coming soon...</div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {activeView === 'settings' && (\r\n            <div className=\"h-full flex items-center justify-center\">\r\n              <div className=\"text-center\">\r\n                <Settings className=\"w-16 h-16 text-zinc-400 mx-auto mb-4\" />\r\n                <h2 className=\"text-2xl font-bold mb-2\">System Settings</h2>\r\n                <p className=\"text-zinc-500\">Configure alerts, notifications, and integrations</p>\r\n                <div className=\"mt-6 text-xs text-zinc-600\">Coming soon...</div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {activeView === 'logs' && (\r\n            <div className=\"h-full flex items-center justify-center\">\r\n              <div className=\"text-center\">\r\n                <History className=\"w-16 h-16 text-orange-400 mx-auto mb-4\" />\r\n                <h2 className=\"text-2xl font-bold mb-2\">Audit Logs</h2>\r\n                <p className=\"text-zinc-500\">System activity and incident history</p>\r\n                <div className=\"mt-6 text-xs text-zinc-600\">Coming soon...</div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </main>\r\n\r\n      {/* 3. CONTROL PANEL (Right, w-80) - Glass Drawer */}\r\n      <aside className=\"w-80 flex-none bg-[#18181b]/95 border-l border-white/10 backdrop-blur-xl z-20 flex flex-col overflow-hidden shadow-2xl\">\r\n\r\n        <div className=\"p-5 border-b border-white/5 flex items-center justify-between\">\r\n          <h2 className=\"text-sm font-semibold tracking-wider text-zinc-100 uppercase flex items-center gap-2\">\r\n            <div className=\"w-2 h-2 rounded-full bg-cyan-500 animate-pulse\" />\r\n            Live Feed\r\n          </h2>\r\n          <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 text-zinc-500 hover:text-white\">\r\n            <Menu className=\"w-4 h-4\" />\r\n          </Button>\r\n        </div>\r\n\r\n        <div className=\"flex-1 overflow-y-auto p-4\">\r\n\r\n          <div className=\"mb-6\">\r\n            <div className=\"text-[10px] uppercase font-bold text-zinc-500 mb-3 tracking-widest px-1\">Critical Alerts</div>\r\n            <DangerAlert\r\n              title=\"Scream Detected\"\r\n              location=\"Katpadi Station â€¢ Zone 4\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"mb-6\">\r\n            <div className=\"text-[10px] uppercase font-bold text-zinc-500 mb-3 tracking-widest px-1\">System Status</div>\r\n            <SuccessAlert message=\"System Optimal\" />\r\n          </div>\r\n\r\n          <div>\r\n            <div className=\"text-[10px] uppercase font-bold text-zinc-500 mb-3 tracking-widest px-1\">Audit Log</div>\r\n            <div className=\"space-y-1\">\r\n              {[\r\n                { action: 'Unit 404 checked in', time: '2 minutes ago' },\r\n                { action: 'Zone 2 updated', time: '5 minutes ago' },\r\n                { action: 'User beacon activated', time: '8 minutes ago' }\r\n              ].map((log, i) => (\r\n                <div key={i} className=\"flex items-center gap-3 p-3 rounded-lg hover:bg-white/5 transition-colors cursor-pointer group\">\r\n                  <div className=\"w-1 h-8 bg-zinc-700 rounded-full group-hover:bg-cyan-500 transition-colors\" />\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"text-xs text-zinc-300\">{log.action}</div>\r\n                    <div className=\"text-[10px] text-zinc-600\">{log.time}</div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <div className=\"p-4 border-t border-white/5 bg-[#18181b]\">\r\n          <Button className=\"w-full bg-cyan-500/10 hover:bg-cyan-500/20 text-cyan-400 border border-cyan-500/20 uppercase tracking-widest text-xs font-bold py-6\">\r\n            Initiate Protocol\r\n          </Button>\r\n        </div>\r\n      </aside>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5487, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nkk77/Desktop/SENTRA/WSF/web-dashboard/app/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { DashboardPage } from \"../src/components/DashboardPage\";\r\n\r\nexport default function HomePage() {\r\n  return <DashboardPage />;\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAKe,SAAS;IACtB,qBAAO,6LAAC,uJAAa;;;;;AACvB;KAFwB"}}]
}